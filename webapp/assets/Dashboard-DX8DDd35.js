import{_ as v,d as L,P as D,a as C,b as S,D as N,c as W,C as Z,U as z,e as H,u as G,f as x}from"./index-BsrjhtPE.js";import{a3 as n,a4 as w,al as k,a5 as l,Z as u,a8 as p,a9 as s,l as t,X as o,a7 as X,ae as h,aa as K,A as J,W as Q,a6 as y,o as j,R as V,ad as F,D as $,am as Y,F as ee}from"./vue-BAjJ74_5.js";import{I as te,a as se}from"./icon-templates-created-DosshVzf.js";import{av as A,aw as _,at as r,V as U,ap as g,c as E,ar as ae,B as I,a as le}from"./vuetify-B6yzhMeP.js";import{D as oe}from"./DataTable-Dq8e4q_q.js";import{I as re}from"./icon-close-pH6A5HBf.js";/* empty css                            */import"./icon-dot-menu-C516iqHn.js";import"./Spinner-Di2pvISG.js";const ne={},ie={xmlns:"http://www.w3.org/2000/svg",width:"50",height:"50",viewBox:"0 0 50 50"},de=k('<g fill="none" fill-rule="evenodd"><g fill="#F79520"><g><circle cx="25" cy="25" r="25" opacity=".154"></circle><g fill-rule="nonzero"><path d="M10 0C4.486 0 0 4.486 0 10s4.486 10 10 10 10-4.486 10-10S15.514 0 10 0zm0 18.471c-4.67 0-8.471-3.8-8.471-8.47 0-4.672 3.8-8.472 8.471-8.472s8.471 3.8 8.471 8.471-3.8 8.471-8.471 8.471zm.764-15.397H9.236v7.243l3.722 3.722 1.081-1.08-3.275-3.275v-6.61z" transform="translate(15 15)"></path></g></g></g></g>',1),ce=[de];function ue(e,a){return n(),w("svg",ie,[...ce])}const pe=v(ne,[["render",ue],["__file","C:/Users/guilh/Documents/EIDCMP/web-app-v3/src/assets/icon-pending-credentials.vue"]]),me={},he={xmlns:"http://www.w3.org/2000/svg",width:"34",height:"34",viewBox:"0 0 34 34"},fe=k('<g fill="none" fill-rule="evenodd"><g><g><g><g fill="#DBEDEF" transform="translate(-424 -313) translate(424 313)"><circle cx="17" cy="17" r="17"></circle></g></g><g fill="#009FB1"><g fill-rule="nonzero" stroke="#009FB1" stroke-width=".3"><g><path d="M7 0c-.622 0-1.135.524-1.135 1.16 0 .106.015.21.041.308L1.478 4.821l-.012.012H.343c-.195.02-.344.187-.343.387v9.28c0 .214.17.387.378.387h4.44c.031.06.065.117.1.175v3.358c0 .137.072.264.187.333.116.07.258.072.376.005L7 17.894l1.52.864c.117.067.26.065.375-.005.115-.07.186-.196.186-.333v-3.358c.036-.058.07-.115.1-.175h4.44c.21 0 .379-.173.379-.387V5.22c0-.214-.17-.387-.378-.387h-1.088l-.012-.012-4.428-3.359c.025-.096.041-.198.041-.302C8.135.524 7.622 0 7 0zm0 .773c.213 0 .378.169.378.387s-.165.387-.378.387-.378-.169-.378-.387S6.787.773 7 .773zm-.662 1.323c.187.139.415.224.662.224.247 0 .475-.085.662-.224l3.6 2.737H2.738l3.6-2.737zM.757 5.606h12.486v8.507H9.424c.02-.127.035-.253.035-.386 0-1.384-1.105-2.514-2.459-2.514s-2.46 1.13-2.46 2.514c0 .132.01.259.03.386H.757V5.607zM7 11.987c.945 0 1.703.775 1.703 1.74 0 .966-.758 1.74-1.703 1.74-.945 0-1.703-.774-1.703-1.74 0-.965.758-1.74 1.703-1.74zm-1.324 3.855c.383.253.836.399 1.324.399.488 0 .941-.146 1.324-.399v1.92l-1.14-.646c-.115-.065-.253-.065-.367 0l-1.141.646v-1.92z" transform="translate(-424 -313) translate(424 313) translate(10 8)"></path></g></g><path d="M3 9L11 9 11 10 3 10zM3 7L11 7 11 8 3 8z" transform="translate(-424 -313) translate(424 313) translate(10 8)"></path></g></g></g></g>',1),be=[fe];function ge(e,a){return n(),w("svg",he,[...be])}const Ce=v(me,[["render",ge],["__file","C:/Users/guilh/Documents/EIDCMP/web-app-v3/src/assets/icon-credential.vue"]]),ve={},Ae={xmlns:"http://www.w3.org/2000/svg",width:"34",height:"34",viewBox:"0 0 34 34"},_e=l("g",{fill:"none","fill-rule":"evenodd"},[l("g",null,[l("g",null,[l("circle",{cx:"17",cy:"17",r:"17",fill:"#DBEDEF"}),l("g",{fill:"#009FB1","fill-rule":"nonzero"},[l("g",null,[l("path",{d:"M4.231 0L4.231 4.231 0 4.231 0 5.769 4.231 5.769 4.231 10 5.769 10 5.769 5.769 10 5.769 10 4.231 5.769 4.231 5.769 0 4.231 0z",transform:"translate(12 12)"})])])])])],-1),Te=[_e];function Fe(e,a){return n(),w("svg",Ae,[...Te])}const Ee=v(ve,[["render",Fe],["__file","C:/Users/guilh/Documents/EIDCMP/web-app-v3/src/assets/icon-add-new-template.vue"]]),we={name:"CredentialButton",components:{IconAddNewTemplate:Ee,CrendentialIcon:Ce},props:{name:{required:!0},blank:{}},emits:["open"]};function Re(e,a,m,f,d,c){const b=u("CrendentialIcon"),i=u("IconAddNewTemplate");return n(),p(_,{class:X([m.blank?"new_credential":"","credential_button"]),onClick:a[0]||(a[0]=T=>e.$emit("open",m.name))},{default:s(()=>[t(A,null,{default:s(()=>[m.blank?(n(),p(i,{key:1})):(n(),p(b,{key:0})),l("span",null,o(m.name),1)]),_:1})]),_:1},8,["class"])}const ye=v(we,[["render",Re],["__file","C:/Users/guilh/Documents/EIDCMP/web-app-v3/src/components/CredentialButton/CredentialButton.vue"]]),Ve=""+new URL("illustration-no-pending-tasks-DY1pybCW.jpg",import.meta.url).href,M=L("PendingTasks"),Ie={name:"PendingTasks",components:{ProductTourTooltip:D,DataTable:oe},data(){return{showPublicField:!1,emptyTablePhoto:Ve,pendingHeaders:{en:[{text:"Credential template",value:"cred_name"},{text:"Public Attribute",align:"start",value:"public_field"},{text:"Status",value:"status",filterable:!1},{text:"Actions",value:"actions",filterable:!1,sortable:!1,width:50}],pt:[{text:"Credential template",value:"cred_name"},{text:"Public Attribute",align:"start",value:"public_field"},{text:"Status",value:"status",filterable:!1},{text:"Actions",value:"actions",filterable:!1,sortable:!1,width:50}],es:[{text:"Credential template",value:"cred_name"},{text:"Public Attribute",align:"start",value:"public_field"},{text:"Status",value:"status",filterable:!1},{text:"Actions",value:"actions",filterable:!1,sortable:!1,width:50}]}}},computed:{...h(C,["allPendingUsers"]),...h(S,["step"])},watch:{allPendingUsers(e){M("allPendingUsers",this.allPendingUsers),this.checkForPublicFields(e)}},created(){M(`*** ${this.$options.name} ***`)},mounted(){this.checkForPublicFields(this.allPendingUsers)},methods:{checkForPublicFields(e){if(this.showPublicField=e.some(a=>a.public_field),!this.showPublicField){for(const a in this.pendingHeaders)if(Object.hasOwnProperty.call(this.pendingHeaders,a)){const m=this.pendingHeaders[a];this.pendingHeaders[a]=m.map(f=>f.value==="public_field"?{...f,align:" d-none"}:f)}}},updateTable(){C()[N]()}}},Me={class:"subtitle_header",style:{display:"inline"}},De={class:"light_text text-center mb-0"};function Se(e,a,m,f,d,c){const b=u("ProductTourTooltip"),i=u("DataTable");return n(),p(E,{class:"pending_tasks"},{default:s(()=>[t(g,null,{default:s(()=>[t(r,{cols:"5",class:"pt-4"},{default:s(()=>[t(b,{direction:"right",show:e.step===2},{default:s(()=>[l("h2",Me,o(e.$t("pendingTasks.title")),1)]),_:1},8,["show"])]),_:1}),e.allPendingUsers.length>0?(n(),p(r,{key:0,cols:"12",class:"pt-4 pb-8"},{default:s(()=>[t(i,{headers:d.pendingHeaders,items:e.allPendingUsers,"table-options":!0,onUpdateTable:a[0]||(a[0]=T=>c.updateTable()),onApproveAll:a[1]||(a[1]=T=>e.approveAll())},null,8,["headers","items"])]),_:1})):(n(),p(r,{key:1,cols:"12",class:"pt-4 pb-8"},{default:s(()=>[t(_,{class:"pa-8"},{default:s(()=>[t(U,{class:"mx-auto","max-height":"89","max-width":"98",src:d.emptyTablePhoto},null,8,["src"]),t(A,{class:"strong_text pa-0 pt-2"},{default:s(()=>[l("p",De,o(e.$t("pendingTasks.emptyTable")),1)]),_:1})]),_:1})]),_:1}))]),_:1})]),_:1})}const Ne=v(Ie,[["render",Se],["__file","C:/Users/guilh/Documents/EIDCMP/web-app-v3/src/components/PendingTasks/PendingTasks.vue"]]),ke="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAdoAAADYCAMAAAB7hdIiAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAA2UExURUdwTP///////////////////////////////////////////////////////////////////4ZSzFsAAAARdFJOUwBWFDIl2kDMm/YHium5aKx5UzsItQAADphJREFUeNrsnWmbqyoMgAVBBRHx///ZM9MqsoTFjj3VPsn5dG8dtpclCRCaBuU/yvIfBVsb0aIgWhREi2gRLaJFtIgW0SJaFESLUin920Uh2m+VAdEiWhREi4JoURAtCqJFQbSIFgXRoiBaFESLgmhREC2iRUG0KIgWBdGiIFoURItoES2iRUG0KIgWBdGiIFoURItoURAtCqJFQbQoiBYF0SJaFESLgmgrRDImr95eR8pIGaOy+lv6pWiZmbj4LYXis6aJNv0RuAHdHyRrnX/lBnv8dRUAqif+CP0h+KRZ/ttu7NWjPovqB50thCRDvybbj+2XoaWG+8Fweh23dZcqpHn8hf3PNoyso+Zs0z4AsPJoNb2fLDfJ/sAGFZRhSiIjk/BLO7Bro30WVwC/9NEv0qg40hEn/p+lCtltnSGN9lcGWiiqkwAoGiij0iBcOgqgBDNIrOvjL8VAr4x2bfE5+mFt+M75VMFhrHp2ItplMX9B23I4UQ4MRiLgbwWJO8Gc+FRfeUJeeyOFG9JpRy1SIcpUdybapacvoyXJMsa8xnTMtTGct3ny0+HCaOXareGKy5qWWBZ9JtqF0xfRZsvo85Jz5tNgDktNV8/FmV4W7VO58WbeHbgJv1qHaT/1fnXJH9DOw0PmPcnpNbRjroTBTD+E9eHOgJ+8pZmJbN2nC2vICtCkntO0isD86g5EbqbAXmfBXke7L9V0inrKAbRb7xMzVMKf/+/0Xr2jGrsVZKtnaIBLXqj7eF20LC5hFzQ6U6AGS4d4Ev0L2qaZMiOhgJZAMyR1R6eyv7TC6s6BMRSzmpdS3cl17do5XFfXVpzDFo8VzV0jHU9Bu31FD6Pdpk2d0ZnnQHdchsgoalVAlizFuit5WbSRNjwEU3Sb1l3p1kqCnoFWZgZCHm2fMp2oY5G2flk06MkC083W3VwXbedVvKGhYjVlNFfK/WH7N7Trwg82VhYtSc/klIfDlqfJpqb5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",Ue=""+new URL("setup-dca-dashboard-B7UD-5Fs.jpg",import.meta.url).href,Oe={name:"CreateCAModal",components:{IconClose:re},props:{startingStep:{required:!0}},data(){return{step:0,loading:!1,errorMsg:null,email:null,errorsMsg:{},hasErrors:!1,errorCaName:!1,textButtonNext:this.$t("button.createCA"),retries:10}},computed:{...h(C,["cid","photoURL"]),...h(W,["userEmail"]),...K(C,["caName"]),isDisabled(){return this.hasErrors}},watch:{caName(e){e&&(this.errorMsg=null,this.errorCaName=!1)}},mounted(){this.userEmail&&(this.email=this.userEmail)},methods:{clearError(e){delete this.errorsMsg[e],this.hasErrors=Object.keys(this.errorsMsg).length!==0},formHasErrors(){return this.errorsMsg={},this.hasErrors=!1,this.caName||(this.errorsMsg.errorCaName=this.$t("createCAModal.errorCaName")),this.isEmailValid(this.email)||(this.errorsMsg.errorEmail=this.$t("createCAModal.errorEmail")),this.hasErrors=Object.keys(this.errorsMsg).length>0&&this.errorsMsg.constructor===Object,this.$log.debug("hasErrors ",this.hasErrors),this.hasErrors},close(){this.$emit("close")},async nextStep(){this.formHasErrors()&&(this.errorCaName=!0,this.errorMsg=this.$t("createCAModal.errorCaName")),this.cid&&this.close();try{const e=await C()[Z]({admin_email:this.email});this.$store.commit("setCA_cid",e),e&&(await this.$store.dispatch(z,{name:this.caName,img_url:ke}).catch(a=>{}),this.$store.commit("tour/setStep",0),this.close())}catch{err&&err.message==="ERR_NO_BILLING"&&this.retries>0&&(this.retries--,this.$store.dispatch(H).then(()=>{setTimeout(()=>{this.nextStep()},3*1e3)}))}}}},Be={class:"modal-backdrop"},Pe={id:"modalTitle",class:"modal-header"},qe={class:"modal-body"},Le={class:"subtitle_header mb-0"},We={class:"",style:{display:"block"}},Ze={class:""},ze={class:"modal-footer"};function He(e,a,m,f,d,c){const b=u("IconClose");return n(),p(j,{name:"modal-fade",persisted:""},{default:s(()=>[J(l("div",Be,[l("div",{class:"modal-wallid create_ca",role:"dialog","aria-labelledby":"modalTitle","aria-describedby":"modalDescription",onClick:a[6]||(a[6]=Q(()=>{},["stop"]))},[l("header",Pe,[y(e.$slots,"header",{},()=>[V(o(e.$t("createCAModal.title"))+" ",1),t(ae),F("v-if",!0)])]),l("div",qe,[y(e.$slots,"body",{},()=>[t(E,{class:"px-9"},{default:s(()=>[t(g,null,{default:s(()=>[t(r,{cols:"12",class:"py-2"},{default:s(()=>[t(U,{class:"mx-auto",height:"90",width:"175",contain:"",src:Ue})]),_:1}),t(r,{cols:"12",class:"pt-1"},{default:s(()=>[l("p",Le,o(e.$t("createCAModal.subtitle")),1)]),_:1}),t(r,{cols:"12",md:"12",class:"input-field pb-2"},{default:s(()=>[l("label",We,o(e.$t("createCAModal.caName")),1),t(I,{modelValue:e.caName,"onUpdate:modelValue":a[1]||(a[1]=i=>e.caName=i),class:"",flat:"",solo:"","persistent-hint":"",hint:e.$t("createCAModal.hint"),"error-messages":d.errorsMsg.errorCaName,onInput:a[2]||(a[2]=i=>c.clearError("errorCaName"))},null,8,["modelValue","hint","error-messages"])]),_:1}),t(r,{cols:"12",md:"12",class:"input-field pb-2"},{default:s(()=>[l("label",Ze,o(e.$t("createCAModal.email")),1),t(I,{modelValue:d.email,"onUpdate:modelValue":a[3]||(a[3]=i=>d.email=i),class:"",flat:"",solo:"","persistent-hint":"","error-messages":d.errorsMsg.errorEmail,disabled:!!e.userEmail,onInput:a[4]||(a[4]=i=>c.clearError("errorEmail"))},null,8,["modelValue","error-messages","disabled"])]),_:1})]),_:1})]),_:1})])]),l("div",ze,[y(e.$slots,"footer",{},()=>[t(g,{class:"justify-end","no-gutters":""},{default:s(()=>[t(le,{class:"next",disabled:c.isDisabled,onClick:a[5]||(a[5]=i=>c.nextStep())},{default:s(()=>[V(o(d.textButtonNext),1)]),_:1},8,["disabled"])]),_:1})])])])],512),[[$,!0]])]),_:3})}const Ge=v(Oe,[["render",He],["__file","C:/Users/guilh/Documents/EIDCMP/web-app-v3/src/modals/CreateCA.vue"]]),xe={name:"DASHBOARD",title:"pageTitle.dashboard",components:{PendingTasks:Ne,CredentialButton:ye,CreateCAModal:Ge,IconTemplatesCredentials:te,IconIssuedCredentials:se,IconPendingCredentials:pe,ProductTourTooltip:D},data(){return{pendingCounter:0,totalTemplates:0,startingStep:0,showCreateCAModal:!1}},computed:{...h(C,["adminEmail","isMaster","caName","templates","allowedTemplates","allowedCredentials","allPendingUsers","totalIssuedCredentials","cid","templates"]),...h(C,{totalTemplatesCounter:e=>e.templates.length}),...h(G,["showLoadingScreen"]),...h(S,["step"]),hasCredentials(){return this.templates.length<this.allowedTemplates},isCustomTemplate(){return this.adminEmail&&this.customTemplate[this.getEmail(this.adminEmail).domain]}},watch:{cid(e){this.$debug("cid watch value: ",e),e?this.showCreateCAModal=!1:this.showCreateCAModal=!0}},created(){this.$debug(`*** ${this.$options.name} ***`),this.$debug("cid created value: ",this.cid)},mounted(){this.cid||(this.showCreateCAModal=!0)},methods:{updateDashboard(){this.showCreateCAModal=!1,this.$store.dispatch(x).then(()=>this.$store.dispatch(N)).then(()=>this.$store.commit("isLoading",!1)).catch(e=>{this.$router.push({path:"/SignIn",query:{redirect:this.$route.path}})})},addNewTemplate(){this.$router.push({path:"CredentialDesign"})},openCredential(e){this.$debug("template tid: ",e.tid),e.tid&&this.$router.push({path:`Dashboard/ViewTemplate/${e.tid}/`})}}},Xe={class:"title_header"},Ke={class:"subtitle_header"};function Je(e,a,m,f,d,c){const b=u("CredentialButton"),i=u("ProductTourTooltip"),T=u("PendingTasks"),O=u("IconTemplatesCredentials"),B=u("IconIssuedCredentials"),P=u("IconPendingCredentials"),q=u("CreateCAModal");return n(),p(E,{class:"dashboard"},{default:s(()=>[t(g,null,{default:s(()=>[F(` <v-col cols="12" class="pt-10 breadcrumbs">
        <p v-show="isOpenCredendial" class="">
          <DashBoardIcon
            :size="14"
            :color="'#b8b9bb'"
            style="cursor: pointer;"
          />
          <IconArrowCreadCrumbs style="margin: 0px 6px 2px 6px" />
          <span style="margin: 2px 6px 2px 2px; position:absolute">
            {{ credential }}</span
          >
        </p>
      </v-col> `),t(r,{cols:"12",class:"pt-15"},{default:s(()=>[l("h1",Xe,o(e.caName)+" "+o(e.$t("dashboard.title")),1)]),_:1}),t(r,{cols:"6",class:"py-4"},{default:s(()=>[l("h2",Ke,o(e.$t("dashboard.subtitle")),1)]),_:1}),t(r,{cols:"12",md:"9",class:"pb-8 pr-16"},{default:s(()=>[t(E,{class:"pa-0 pt-3"},{default:s(()=>[t(g,{class:"pb-5"},{default:s(()=>[(n(!0),w(ee,null,Y(e.templates,R=>(n(),p(r,{key:R.tid,cols:"4",class:"pa-2 pr-3"},{default:s(()=>[t(b,{name:R.name,onOpen:Qe=>c.openCredential(R)},null,8,["name","onOpen"])]),_:2},1024))),128)),e.isMaster&&c.hasCredentials?(n(),p(r,{key:0,cols:"4",class:"pa-2 pr-3"},{default:s(()=>[t(i,{direction:"right",show:e.step===3},{default:s(()=>[t(b,{name:e.$t("dashboard.emptyTemplate"),blank:e.isMaster,onOpen:c.addNewTemplate},null,8,["name","blank","onOpen"])]),_:1},8,["show"])]),_:1})):F("v-if",!0)]),_:1}),t(g,null,{default:s(()=>[t(T)]),_:1})]),_:1})]),_:1}),t(r,{cols:"12",md:"3",class:"pt-2 pb-8 counters"},{default:s(()=>[t(g,{class:""},{default:s(()=>[t(r,{cols:"12",class:"pt-2 pb-2 px-0"},{default:s(()=>[t(_,null,{default:s(()=>[t(A,{class:"strong_text"},{default:s(()=>[t(O),l("div",null,[l("p",null,o(e.totalTemplatesCounter)+"/"+o(e.allowedTemplates),1),l("span",null,o(e.$t("dashboard.counters.templates")),1)])]),_:1})]),_:1})]),_:1}),t(r,{cols:"12",class:"pt-4 pb-2 px-0"},{default:s(()=>[t(_,null,{default:s(()=>[t(A,{class:"strong_text"},{default:s(()=>[t(B),l("div",null,[l("p",null,o(e.totalIssuedCredentials)+"/"+o(e.allowedCredentials),1),l("span",null,o(e.$t("dashboard.counters.issued")),1)])]),_:1})]),_:1})]),_:1}),t(r,{cols:"12",class:"pt-2 pb-2 px-0"},{default:s(()=>[t(_,null,{default:s(()=>[t(A,{class:"strong_text"},{default:s(()=>[t(P),l("div",null,[l("p",null,o(e.allPendingUsers.length),1),l("span",null,o(e.$t("dashboard.counters.pending")),1)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),d.showCreateCAModal?(n(),p(q,{key:0,"starting-step":d.startingStep,onClose:c.updateDashboard},null,8,["starting-step","onClose"])):F("v-if",!0)]),_:1})}const rt=v(xe,[["render",Je],["__file","C:/Users/guilh/Documents/EIDCMP/web-app-v3/src/views/Dashboard.vue"]]);export{rt as default};
//# sourceMappingURL=Dashboard-DX8DDd35.js.map
