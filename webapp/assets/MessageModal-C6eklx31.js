import{_ as v,l as b,d as G,a as K,B as L,o as U}from"./index-BsrjhtPE.js";import{a3 as a,a4 as l,a5 as i,al as q,a6 as z,an as j,ao as O,ad as c,ah as y,X as g,F as P,R as w,ae as B,a8 as H,n as Z,N as ee,aa as R,Z as f,am as te,W as $,a7 as D,A as d,D as m,l as p,a9 as M,Y as V,ar as ne,as as W,o as ie}from"./vue-BAjJ74_5.js";import{I as oe}from"./icon-close-pH6A5HBf.js";import{S as se}from"./Spinner-Di2pvISG.js";import{I as ae}from"./icon-sucessfully-CO2Tb8FD.js";import{ar as le,ap as re,a as N}from"./vuetify-B6yzhMeP.js";const de={},ce={xmlns:"http://www.w3.org/2000/svg",width:"25",height:"24",viewBox:"0 0 25 24"},ue=i("g",{fill:"none","fill-rule":"evenodd"},[i("g",null,[i("g",null,[i("g",null,[i("g",{transform:"translate(-833 -870) translate(495 859) translate(338 11)"},[i("circle",{cx:"12",cy:"12",r:"12",fill:"#B8B9BB"}),i("path",{fill:"#FFF","fill-rule":"nonzero",d:"M11.231 7L11.231 11.231 7 11.231 7 12.769 11.231 12.769 11.231 17 12.769 17 12.769 12.769 17 12.769 17 11.231 12.769 11.231 12.769 7 11.231 7z"})])])])])],-1),me=[ue];function pe(t,e){return a(),l("svg",ce,[...me])}const ve=v(de,[["render",pe],["__file","C:/Users/guilh/Documents/EIDCMP/web-app-v3/src/components/TemplateEditor/assets/icon-add-page.vue"]]),he={props:["color"],methods:{iconColor(){switch(this.color){case"red":return"#E95E5E";case"blue":return"#009fb1";default:return"#B8B9BB"}}}},fe={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},ge={fill:"none","fill-rule":"evenodd"},Ce={transform:"translate(-845 -450) translate(593 413) translate(252 37)"},_e=["fill"],ye=i("g",{fill:"#FFF","fill-rule":"nonzero"},[i("g",null,[i("path",{d:"M1.91 12.7c.133 1.783 1.709 3.164 3.605 3.16h2.97c1.896.004 3.472-1.377 3.606-3.16l.636-9.04h1.23v-1.2H9.822v-.72c0-.884-.76-1.6-1.697-1.6H5.876c-.937 0-1.697.716-1.697 1.6v.72H.042v1.2h1.23l.637 9.04zm8.908-.08c-.089 1.152-1.108 2.043-2.333 2.04h-2.97c-1.225.003-2.244-.888-2.333-2.04l-.637-8.96h8.91l-.637 8.96zM5.452 1.74c0-.22.19-.4.424-.4h2.248c.235 0 .424.18.424.4v.72H5.452v-.72z",transform:"translate(5 4)"}),i("path",{d:"M4.652 8.42L12.432 8.434 12.434 9.707 4.654 9.693z",transform:"translate(5 4) rotate(-88.3 8.543 9.064)"}),i("path",{d:"M4.792 5.18L6.065 5.183 6.079 12.963 4.806 12.961z",transform:"translate(5 4) rotate(-1.7 5.435 9.072)"})])],-1);function be(t,e,o,r,s,n){return a(),l("svg",fe,[i("g",ge,[i("g",null,[i("g",null,[i("g",Ce,[i("circle",{cx:"12",cy:"12",r:"12",fill:n.iconColor()},null,8,_e),ye])])])])])}const J=v(he,[["render",be],["__file","C:/Users/guilh/Documents/EIDCMP/web-app-v3/src/components/TemplateEditor/assets/icon-delete-attribute.vue"]]),we={props:["color"],methods:{iconColor(){return this.color==="blue"?"#009fb1":"#B8B9BB"}}},xe={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},Se={fill:"none","fill-rule":"evenodd"},De={transform:"translate(-809 -450) translate(593 413) translate(216 37)"},Me=["fill"],ke=i("g",{fill:"#FFF","fill-rule":"nonzero"},[i("g",null,[i("path",{d:"M9.393.552c.735-.736 1.933-.736 2.69 0l1.365 1.365c.736.736.736 1.934 0 2.69l-8.846 8.847c-.357.357-.84.546-1.345.546H.63c-.357 0-.63-.273-.63-.63v-2.627c0-.504.21-.988.546-1.345L9.393.552zm1.71.918c-.263-.263-.68-.263-.943 0L8.91 2.721l2.369 2.37 1.25-1.25c.264-.264.264-.681 0-.944L11.104 1.47zm-.921 4.545L7.99 3.818l-6.535 6.55c-.121.122-.182.264-.182.427v1.932H3.2c.162 0 .324-.06.426-.183l6.555-6.53z",transform:"translate(5 5)"})])],-1);function Ie(t,e,o,r,s,n){return a(),l("svg",xe,[i("g",Se,[i("g",null,[i("g",null,[i("g",De,[i("circle",{cx:"12",cy:"12",r:"12",fill:n.iconColor()},null,8,Me),ke])])])])])}const Be=v(we,[["render",Ie],["__file","C:/Users/guilh/Documents/EIDCMP/web-app-v3/src/components/TemplateEditor/assets/icon-edit-attribute.vue"]]),Ee={},Te={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},$e=q('<g fill="none" fill-rule="evenodd"><g><g transform="translate(-1313.000000, -724.000000) translate(1313.000000, 724.000000)"><circle cx="12" cy="12" r="12" fill="#009FB1"></circle><g fill="#FFF" transform="translate(11.000000, 6.000000)"><rect width="2" height="9" y="3" rx="1"></rect><circle cx="1" cy="1" r="1"></circle></g></g></g></g>',1),Ae=[$e];function ze(t,e){return a(),l("svg",Te,[...Ae])}const He=v(Ee,[["render",ze],["__file","C:/Users/guilh/Documents/EIDCMP/web-app-v3/src/components/TemplateEditor/assets/icon-info-big.vue"]]),Pe={},Ve=t=>(j("data-v-ebfad4f5"),t=t(),O(),t),Fe={class:"hover"},Re={class:"baloon"},Le=Ve(()=>i("div",{class:"baloon-vertice"},null,-1));function Ue(t,e){return a(),l("div",Fe,[i("div",Re,[z(t.$slots,"default",{},void 0,!0)]),Le])}const Q=v(Pe,[["render",Ue],["__scopeId","data-v-ebfad4f5"],["__file","C:/Users/guilh/Documents/EIDCMP/web-app-v3/src/components/TemplateEditor/components/Misc/Hover.vue"]]),We={name:"CurvedText",props:{id:{type:Number,required:!0},text:{type:String,required:!0},warp:{type:Number,default:0},styles:{type:Object,default:()=>({})},isEditable:{type:Boolean,default:!0},renderedDimensions:{type:Number,required:!0}},mounted(){},methods:{reactiveFontSize(t){return t*this.renderedDimensions}}},Ne=["d"],qe=["dy"];function je(t,e,o,r,s,n){return a(),l(P,null,[c(" Curved Text "),i("div",{ref:`textarea${o.id}`,style:y([{overflow:"visible !important"},{visibility:o.warp!==0&&!o.isEditable?"visible":"hidden"}])},[(a(),l("svg",{ref:`curvedtext${o.id}0`,viewBox:"0 0 100 100",style:{position:"absolute",overflow:"visible !important",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}},[i("path",{id:"curve",fill:"transparent",stroke:"#e1e1e1","stroke-width":"3px","stroke-dasharray":"10%",d:o.warp>0?`M 50, ${50+Math.abs(o.warp)}a ${Math.abs(o.warp)},${Math.abs(o.warp)} 0 1,1 0,${Math.abs(o.warp)*-2}a ${Math.abs(o.warp)},${Math.abs(o.warp)} 0 1,1 0, ${Math.abs(o.warp)*2}`:`M 50, ${50-Math.abs(o.warp)}a ${Math.abs(o.warp)},${Math.abs(o.warp)} 0 1,0 0,${Math.abs(o.warp)*2}a ${Math.abs(o.warp)},${Math.abs(o.warp)} 0 1,0 0, ${Math.abs(o.warp)*-2}`},null,8,Ne),i("text",{dy:o.warp>0?"-10%":"110%",width:"100",class:"curved-text",style:y({fontFamily:`${o.styles.fontFamily} !important`,fontSize:`${n.reactiveFontSize(o.styles.fontSize)}px`,fontStyle:o.styles.isItalic?"italic":"normal",fontWeight:o.styles.isBold?"bold":"normal",textDecoration:o.styles.isUnderlined?"underline":"none",fill:o.styles.fontColor||o.styles.color,letterSpacing:`${o.styles.spacing}px`})},[i("textPath",{"text-anchor":"middle",startOffset:"50%","xlink:href":"#curve",style:y({fontFamily:`${o.styles.fontFamily} !important`})},g(o.text),5)],12,qe)],512))],4)],2112)}const Oe=v(We,[["render",je],["__file","C:/Users/guilh/Documents/EIDCMP/web-app-v3/src/components/TemplateEditor/components/Canvas/Attributes/CurvedText.vue"]]),Je={props:{id:{type:Number,required:!0},renderedDimensions:{type:Number,required:!0},size:{type:Number,default:1},src:{type:String,default:""},isEditable:{type:Boolean,default:!0}},computed:{reactiveWidth(){return this.size*this.renderedDimensions}},methods:{}},Qe=["src"];function Ye(t,e,o,r,s,n){return a(),l(P,null,[c(" Image Component "),i("div",{ref:`image${o.id}`,style:y({width:`${n.reactiveWidth}px`,resize:o.isEditable?"horizontal":"none"})},[i("img",{src:o.src,alt:"",style:y([{"pointer-events":"none"},{width:"100%"}])},null,8,Qe)],4)],2112)}const Xe=v(Je,[["render",Ye],["__file","C:/Users/guilh/Documents/EIDCMP/web-app-v3/src/components/TemplateEditor/components/Canvas/Attributes/Image.vue"]]),Ge={props:{id:{type:Number,required:!0},value:{type:String,required:!0},renderedDimensions:{type:Number,required:!0},editable:{type:Boolean,default:!0},styles:{type:Object,default:()=>({})},visible:{type:Boolean,default:!0},isActive:{type:Boolean,default:!1},isEditable:{type:Boolean,default:!0}},emits:{input:null},computed:{reactiveFontSize(){return this.styles.fontSize*this.renderedDimensions}},methods:{update(t){const e=t.target;this.$emit("input",e.value)}}},Ke=["disabled"],Ze=["value"];function et(t,e,o,r,s,n){return a(),l("div",{ref:`textarea${o.id}`,key:`textarea${o.id}text`,disabled:!o.isEditable,tabindex:"-1",cols:"1",rows:"1",style:y({resize:"none",whiteSpace:"pre",fontFamily:o.styles.fontFamily,fontSize:`${n.reactiveFontSize}px`,fontStyle:o.styles.isItalic?"italic":"normal",fontWeight:o.styles.isBold?"bold":"normal",textDecoration:o.styles.isUnderlined?"underline":"none",textAlign:o.styles.textAlign,color:o.styles.fontColor,opacity:"visible"in o.styles&&!o.styles.visible?"0":"1",margin:"0.5rem"})},[i("input",{style:{display:"none"},value:o.value,onInput:e[0]||(e[0]=C=>n.update(C))},null,40,Ze),w(" "+g(o.value)+" "+g(o.isEditable),1)],12,Ke)}const tt=v(Ge,[["render",et],["__file","C:/Users/guilh/Documents/EIDCMP/web-app-v3/src/components/TemplateEditor/components/Canvas/Attributes/Input.vue"]]),nt=""+new URL("qr-code-BvJ1fKUK.png",import.meta.url).href,it={props:{renderedDimensions:{type:Number,required:!0}},methods:{}},ot={class:"qrcode",style:{"user-select":"none",display:"flex","flex-direction":"column","align-items":"center",padding:"0.5rem"}};function st(t,e,o,r,s,n){return a(),l("div",ot,[i("div",{style:y([{fontSize:`${o.renderedDimensions*12}px`},{"margin-bottom":"0.3rem"}])},g(t.$t("page.qrcodePalceholder")),5),i("img",{src:nt,alt:"",style:y([{"pointer-events":"none","user-select":"none"},{width:`${o.renderedDimensions*50}px`}])},null,4)])}const at=v(it,[["render",st],["__file","C:/Users/guilh/Documents/EIDCMP/web-app-v3/src/components/TemplateEditor/components/Canvas/Attributes/QRCode.vue"]]),lt={props:{id:{type:Number,required:!0},editable:{type:Boolean,default:!0},styles:{type:Object,default:()=>({})},visible:{type:Boolean,default:!0},isActive:{type:Boolean,default:!1},isEditable:{type:Boolean,default:!0},value:{type:String,required:!0},renderedDimensions:{type:Number,required:!0},size:{type:Number,default:1},src:{type:String,default:""}},emits:["input"],computed:{...B(b,["initialWidth"]),reactiveFontSize(){return this.renderedDimensions*this.styles.fontSize}},methods:{}},rt=["value","disabled"],dt=["src"];function ct(t,e,o,r,s,n){return a(),l("div",null,[c(" Signature Component "),i("input",{ref:`input${o.id}`,value:o.value,type:"text",disabled:!o.isEditable,size:"1",style:y({whiteSpace:"pre",fontSize:`${n.reactiveFontSize}px`,fontFamily:`${o.styles.fontFamily}!important`,color:o.styles.fontColor}),onInput:e[0]||(e[0]=C=>t.$emit("input",o.value))},null,44,rt),o.src?(a(),l("div",{key:0,ref:`image${o.id}`,style:y({width:`${o.renderedDimensions*o.size}px`,resize:o.isEditable?"horizontal":"none"})},[i("img",{src:o.src,alt:"",style:y([{"pointer-events":"none"},{width:"100%"}])},null,8,dt)],4)):c("v-if",!0)])}const ut=v(lt,[["render",ct],["__file","C:/Users/guilh/Documents/EIDCMP/web-app-v3/src/components/TemplateEditor/components/Canvas/Attributes/Signature.vue"]]),mt={props:{id:{type:Number,required:!0},value:{type:String,required:!0},renderedDimensions:{type:Number,required:!0},editable:{type:Boolean,default:!0},styles:{type:Object,default:()=>({})},visible:{type:Boolean,default:!0},isActive:{type:Boolean,default:!1},isEditable:{type:Boolean,default:!0}},emits:{input:null},computed:{reactiveFontSize(){return this.styles.fontSize*this.renderedDimensions}},methods:{update(t){this.$emit("input",t)}}},pt=["disabled","value"];function vt(t,e,o,r,s,n){return a(),l(P,null,[c(" Text Component "),i("textarea",{ref:`textarea${o.id}`,disabled:!o.isEditable,rows:"1",style:y({resize:"none",whiteSpace:"pre",fontFamily:o.styles.fontFamily,fontSize:`${n.reactiveFontSize}px`,fontStyle:o.styles.isItalic?"italic":"normal",fontWeight:o.styles.isBold?"bold":"normal",textDecoration:o.styles.isUnderlined?"underline":"none",textAlign:o.styles.textAlign,color:o.styles.fontColor,opacity:o.visible?"1":"0",overflow:"visible",width:"auto",fieldSizing:"content"}),value:o.value,onInput:e[0]||(e[0]=C=>n.update(C.target.value))},null,44,pt)],2112)}const ht=v(mt,[["render",vt],["__file","C:/Users/guilh/Documents/EIDCMP/web-app-v3/src/components/TemplateEditor/components/Canvas/Attributes/Text.vue"]]),ft={name:"Attribute",components:{CurvedText:Oe,ImageComponent:Xe,InputComponent:tt,QRCode:at,SignatureComponent:ut,TextComponent:ht},props:{value:{type:Object,default:()=>({type:"text",text:"",x:0,y:0,fontSize:0,textAlign:"center",warp:0,id:0})}},emits:["input"],computed:{...B(b,["renderedDimensions","initialWidth","backSide"]),reactiveValue:{get(){return this.value},set(t){this.$emit("input",t)}}},watch:{value(t){}},mounted(){},methods:{resizeTextArea(t=!0){if(this.reactiveValue.type==="text"){const e=Number.parseInt(this.$refs[`${this.reactiveValue.id}`].scrollWidth);if((!this.reactiveValue.previousWidth||Number.isNaN(this.reactiveValue.previousWidth))&&(this.reactiveValue.previousWidth=e),t){const o=100*(e-this.reactiveValue.previousWidth)/(this.renderedDimensions*this.initialWidth);this.reactiveValue.textAlign==="left"?this.reactiveValue.x=Math.abs(this.reactiveValue.x+o):this.reactiveValue.textAlign==="right"&&(this.reactiveValue.x=Math.abs(this.reactiveValue.x-o))}this.reactiveValue.previousWidth=Math.min(e,this.initialWidth)}},getComponent({type:t,warp:e,isEditable:o,text:r,id:s,isDraggable:n}){if(t==="text"&&!Number.isNaN(e)&&e&&e!==0&&!o)return"CurvedText";switch(t){case"image":return"ImageComponent";case"input":return"InputComponent";case"qrcode":return"QRCode";case"signature":return"SignatureComponent";case"text":return"TextComponent";default:return"div"}},changeActiveComponent(t,e){const o=t.clientX-this.$refs[e.id].getBoundingClientRect().x-this.$refs[e.id].getBoundingClientRect().width/2,r=t.clientY-this.$refs[e.id].getBoundingClientRect().y-this.$refs[e.id].getBoundingClientRect().height/2;b().setXYDistanceMouseToComponentCenter({x:o,y:r}),this.reactiveValue.isDraggable=!0,this.setActiveComponent(e)},updateComponent(t){t.isDraggable&&(t.type==="image"&&t.isEditable&&(t.size=this.$refs[`${t.id}`].getBoundingClientRect().width/this.renderedDimensions),this.reactiveValue.isDraggable=!1,t.templateSide==="front"&&t.y>100?this.backSide?t.templateSide="back":this.deleteComponent(t):t.templateSide==="back"&&t.y<0&&(t.templateSide="front"),(t.x>100||t.x<0||t.y>100||t.y<0)&&this.deleteComponent(t))}}};function gt(t,e,o,r,s,n){return a(),l("div",{ref:n.reactiveValue.id,onMousedownCapture:e[1]||(e[1]=C=>n.changeActiveComponent(C,n.reactiveValue)),onMouseup:e[2]||(e[2]=C=>n.updateComponent(n.reactiveValue))},[w(g(n.reactiveValue.isEditable)+" ",1),(a(),H(ee(n.getComponent(n.reactiveValue)),Z(n.reactiveValue,{"rendered-dimensions":t.renderedDimensions,styles:n.reactiveValue.styles,value:n.reactiveValue.text,onInput:e[0]||(e[0]=C=>{n.reactiveValue.text=C,n.resizeTextArea()})}),null,16,["rendered-dimensions","styles","value"]))],544)}const Ct=v(ft,[["render",gt],["__file","C:/Users/guilh/Documents/EIDCMP/web-app-v3/src/components/TemplateEditor/components/Canvas/Attributes/Attribute.vue"]]),_t={A4:1.4142,Badge:1,Card:1.56,NFT:1},F=G("TemplateEditor:Page"),A=.5,yt={components:{IconDelete:J,IconEdit:Be,IconInfo:He,Hover:Q,Attribute:Ct},props:["pageSide","editable","renderedDimensions"],data(){return{iconColorEdit:"",iconColorDelete:"",displayQRCodeHover:!1,displayDeleteHover:!1,displayEditHover:!1}},computed:{...B(b,["currentLayout","layoutBackgroundColor","xDistanceMouseToComponentCenter","yDistanceMouseToComponentCenter","activeComponent","initialWidth"]),...R(b,["components"]),...B(b,{currentSideBackground:t=>(void 0).pageSide==="front"?t.template.backgroundFront:t.template.backgroundBack}),calcHeightPage(){return`${Math.floor(this.initialWidth/_t[this.currentLayout])}px`},activeComponentWarp(){return this.activeComponent?.warp},componentsMappedPageSide:{get(){return this.components.filter(t=>t.templateSide===this.pageSide)},set(t){this.components=this.components.map(e=>e.templateSide===this.pageSide?t.find(o=>o.id===e.id):e)}},pageHeight(){return this.initialWidth}},watch:{activeComponent(t,e){this.iconColorEdit="",e.text===""&&this.deleteComponent(e)}},mounted(){},updated(){},methods:{clearActiveComponent(){F("clearActiveComponent"),this.activeComponent?.isEditable&&(this.activeComponent.isEditable=!1),b().setActiveComponent()},componentHeight(t){if(F("componentHeight:component",t,this.$refs[`curvedtext${t.id}0`]),this.isText(t)&&t.warp!==0&&this.$refs[`curvedtext${t.id}0`]&&t.isEditable){const e=this.$refs[`curvedtext${t.id}0`][0].getBoundingClientRect().height;return e>=60?`${e}px`:"3.65rem"}return"unset"},componentWidth(t){if(this.isText(t)&&t.warp!==0&&this.$refs[`curvedtext${t.id}0`]&&t.isEditable){const e=this.$refs[`curvedtext${t.id}0`][0].getBoundingClientRect().width;return e>=60?`${e}px`:"3.65rem"}return"3.65rem"},warpAligner(t,e,o){let r;return e.length%2===0?t===e/2?r=t-.5:t===1+e/2?r=t+.5:r=t+.5-e.length/2:r=t-Math.floor(e.length/2),o>0?r:-r},characters(t){const e=t.split(""),o=[];for(let r=0;r<e.length;r++)o.push({character:e[r],id:r});return o},moveActiveComponent(t){if(!this.activeComponent.isDraggable)return;const e=this.activeComponent;e&&e.type!=="qrcode"&&e.templateSide===this.pageSide&&(e.x=Math.round(100*(t.clientX-this.$refs.page.getBoundingClientRect().x-this.xDistanceMouseToComponentCenter)/this.$refs.page.getBoundingClientRect().width)<0?0:Math.round(100*(t.clientX-this.$refs.page.getBoundingClientRect().x-this.xDistanceMouseToComponentCenter)/this.$refs.page.getBoundingClientRect().width)>100?100:Math.round(100*(t.clientX-this.$refs.page.getBoundingClientRect().x-this.xDistanceMouseToComponentCenter)/this.$refs.page.getBoundingClientRect().width),e.y=Math.round(100*(t.clientY-this.$refs.page.getBoundingClientRect().y-this.yDistanceMouseToComponentCenter)/this.$refs.page.getBoundingClientRect().height)<0?0:Math.round(100*(t.clientY-this.$refs.page.getBoundingClientRect().y-this.yDistanceMouseToComponentCenter)/this.$refs.page.getBoundingClientRect().height)>100?100:Math.round(100*(t.clientY-this.$refs.page.getBoundingClientRect().y-this.yDistanceMouseToComponentCenter)/this.$refs.page.getBoundingClientRect().height))},isActiveComponent(t){return t.id===this.activeComponent.id},setActiveComponent(t,e){F("setActiveComponent:component",e,this.activeComponent),e.isDraggable=!e.isEditable},editComponent(t){t.isEditable=!t.isEditable,t.isEditable?this.iconColorEdit="blue":this.iconColorEdit=""},isText(t){return t.type==="text"},isQRCode(t){return t.type==="qrcode"},deleteComponent(t){this.iconColorDelete="",this.displayDeleteHover=!1,b().deleteComponent(t)},reactiveFontSize(t){return this.renderedDimensions*t},keyboardActiveComponent(t){const e=t.key;if(this.activeComponent)switch(e){case"ArrowUp":this.activeComponent.y-=A;break;case"ArrowDown":this.activeComponent.y+=A;break;case"ArrowLeft":this.activeComponent.isEditable||(this.activeComponent.x-=A);break;case"ArrowRight":this.activeComponent.isEditable||(this.activeComponent.x+=A);break;case"Delete":case"Backspace":this.activeComponent.isEditable||this.deleteComponent(this.activeComponent);break}}}},bt=["id","onDblclick"],wt=["onClick"],xt=["onClick","onMouseout"],St={key:2,style:{display:"flex",overflow:"visible !important","z-index":"15"}},Dt=["innerHTML"];function Mt(t,e,o,r,s,n){const C=f("IconDelete"),x=f("Hover"),k=f("IconEdit"),S=f("IconInfo"),E=f("Attribute");return a(),l("div",{ref:"page",class:"page",style:y({minWidth:`${t.initialWidth}px`,maxWidth:`${t.initialWidth}px`,minHeight:n.calcHeightPage,maxHeight:n.calcHeightPage,backgroundColor:t.layoutBackgroundColor,backgroundImage:`url(${t.background()})`,backgroundSize:t.currentLayout==="Card"?"contain":"cover",backgroundPosition:"center center",borderRadius:t.currentLayout==="Badge"?"50%":"0%",visibility:t.currentLayout?"visible":"hidden",userSelect:t.activeComponent?"auto":"none"}),tabindex:"0",onMousedown:e[10]||(e[10]=$(u=>n.clearActiveComponent(),["self"])),onMousemove:e[11]||(e[11]=(...u)=>n.moveActiveComponent&&n.moveActiveComponent(...u)),onKeydown:e[12]||(e[12]=u=>n.keyboardActiveComponent(u))},[c(" Layout "),c(`     <component
      :is="currentLayout"
      :highlight="false"
      :background="layoutBackground"
      :style="{
        maxHeight: this.pageHeight + 'px'
      }"
    ></component> `),c(" Components "),w(" "+g(n.pageHeight)+":"+g(t.initialWidth)+" ",1),(a(!0),l(P,null,te(n.componentsMappedPageSide,(u,T)=>(a(),l("div",{id:u.id,key:`component${u.id}`,ref_for:!0,ref:`${u.id}`,class:D(["component",{activeComponent:n.isActiveComponent(u)}]),style:y({top:`${u.y}%`,left:`${u.x}%`,padding:"0.5rem",zIndex:n.isQRCode(u)?t.components.length:T}),onDblclick:_=>(u.isEditable=!0,s.iconColorEdit="blue")},[d(i("div",{class:"component-options",onMousedown:e[9]||(e[9]=_=>_.stopPropagation())},[c(" Delete component icon "),n.isQRCode(u)?c("v-if",!0):(a(),l("div",{key:0,style:{display:"flex",overflow:"visible !important","z-index":"12"},onClick:_=>n.deleteComponent(u),onMouseover:e[2]||(e[2]=_=>s.iconColorDelete="blue"),onMouseout:e[3]||(e[3]=_=>s.iconColorDelete="")},[i("div",{style:{display:"flex",position:"relative",overflow:"visible !important"},onMouseover:e[0]||(e[0]=_=>s.displayDeleteHover=!0),onMouseout:e[1]||(e[1]=_=>s.displayDeleteHover=!1)},[p(C,{color:s.iconColorDelete},null,8,["color"]),d(p(x,null,{default:M(()=>[w(g(t.$t("page.delete")),1)]),_:1},512),[[m,s.displayDeleteHover]])],32)],40,wt)),c(" Edit component icon SHOULD USE === instead = 6 lines under "),n.isQRCode(u)?c("v-if",!0):(a(),l("div",{key:1,style:{display:"flex",overflow:"visible !important","z-index":"12"},onClick:_=>n.editComponent(u),onMouseover:e[6]||(e[6]=_=>s.iconColorEdit="blue"),onMouseout:_=>s.iconColorEdit=u.isEditable?s.iconColorEdit="blue":s.iconColorEdit=""},[i("div",{style:{display:"flex",position:"relative",overflow:"visible !important","margin-left":"0.5rem"},onMouseover:e[4]||(e[4]=_=>s.displayEditHover=!0),onMouseout:e[5]||(e[5]=_=>s.displayEditHover=!1)},[p(k,{color:s.iconColorEdit},null,8,["color"]),d(p(x,null,{default:M(()=>[w(g(t.$t("page.edit")),1)]),_:1},512),[[m,s.displayEditHover]])],32)],40,xt)),c(" Info QRCode icon "),n.isQRCode(u)?(a(),l("div",St,[i("div",{style:{display:"flex",position:"relative",overflow:"visible !important"},onMouseover:e[7]||(e[7]=_=>s.displayQRCodeHover=!0),onMouseout:e[8]||(e[8]=_=>s.displayQRCodeHover=!1)},[p(S),d(p(x,null,{default:M(()=>[i("p",{innerHTML:t.$t("page.qrcode")},null,8,Dt)]),_:1},512),[[m,s.displayQRCodeHover]])],32)])):c("v-if",!0)],544),[[m,n.isActiveComponent(u)]]),c(` Required for issuing
      <div
        v-else-if="isText(component)"
        :ref="\`textarea\${component.id}\`"
        :key="\`textarea\${component.id}text\`"
        :disabled="!component.isEditable"
        tabindex="-1"
        cols="1"
        rows="1"
        :style="{
          resize: 'none',
          whiteSpace: 'pre',
          fontFamily: component.fontFamily,
          fontSize: \`\${reactiveFontSize(component.fontSize)}px\`,
          fontStyle: component.isItalic ? 'italic' : 'normal',
          fontWeight: component.isBold ? 'bold' : 'normal',
          textDecoration: component.isUnderlined ? 'underline' : 'none',
          textAlign: component.textAlign,
          color: component.fontColor,
          opacity: 'visible' in component && !component.visible ? '0' : '1',
          margin: '0.5rem',
        }"
        @input="resizeTextArea(component, true)"
      >
        <input
          v-model="component.text"
          style="display: none"
          @input="resizeTextArea(component, true)"
        >
        {{ component.text }}
        {{ component.isEditable }}
      </div> `),w(" "+g(u.warp)+" ",1),p(E,{modelValue:n.componentsMappedPageSide[T],"onUpdate:modelValue":_=>n.componentsMappedPageSide[T]=_},null,8,["modelValue","onUpdate:modelValue"])],46,bt))),128))],36)}const kt=v(yt,[["render",Mt],["__scopeId","data-v-be531b27"],["__file","C:/Users/guilh/Documents/EIDCMP/web-app-v3/src/components/TemplateEditor/components/Canvas/Page.vue"]]),It={props:["selected"],methods:{iconColor(){return this.selected?"#009fb1":"#373c43"}}},Bt={xmlns:"http://www.w3.org/2000/svg",width:"8",height:"10",viewBox:"0 0 8 10"},Et={fill:"none","fill-rule":"evenodd"},Tt=["fill"],$t=i("g",null,[i("g",null,[i("path",{d:"M6.168 4.48c.48.169.856.451 1.128.847.272.395.408.882.408 1.46 0 .817-.286 1.446-.858 1.886-.572.44-1.406.66-2.502.66H0V0h4.104c1.024 0 1.81.218 2.358.653.548.436.822 1.027.822 1.774 0 .453-.098.857-.294 1.213-.196.356-.47.636-.822.84zM1.932 1.627v2.2h1.932c.48 0 .844-.094 1.092-.28.248-.187.372-.463.372-.827 0-.364-.124-.638-.372-.82-.248-.182-.612-.273-1.092-.273H1.932zM4.2 7.707c.512 0 .898-.094 1.158-.28.26-.187.39-.476.39-.867 0-.773-.516-1.16-1.548-1.16H1.932v2.307H4.2z",transform:"translate(-913 -125) translate(502 114) translate(411 11)"})])],-1),At=[$t];function zt(t,e,o,r,s,n){return a(),l("svg",Bt,[i("g",Et,[i("g",{fill:n.iconColor(),"fill-rule":"nonzero"},[...At],8,Tt)])])}const Ht=v(It,[["render",zt],["__file","C:/Users/guilh/Documents/EIDCMP/web-app-v3/src/components/TemplateEditor/assets/icon-bold.vue"]]),Pt={},Vt={xmlns:"http://www.w3.org/2000/svg",width:"9",height:"1",viewBox:"0 0 9 1"},Ft=i("g",{fill:"none","fill-rule":"evenodd","stroke-linecap":"square"},[i("g",{stroke:"#373C43"},[i("g",null,[i("g",null,[i("path",{d:"M3.5-3v7",transform:"translate(-807 -130) translate(502 114) translate(306 16) rotate(90 3.5 .5)"})])])])],-1),Rt=[Ft];function Lt(t,e){return a(),l("svg",Vt,[...Rt])}const Ut=v(Pt,[["render",Lt],["__file","C:/Users/guilh/Documents/EIDCMP/web-app-v3/src/components/TemplateEditor/assets/icon-decrease-font.vue"]]),Wt={},Nt={xmlns:"http://www.w3.org/2000/svg",width:"9",height:"9",viewBox:"0 0 9 9"},qt=i("g",{fill:"none","fill-rule":"evenodd","stroke-linecap":"square"},[i("g",{stroke:"#373C43"},[i("g",null,[i("g",null,[i("g",null,[i("path",{d:"M3.5 0v7",transform:"translate(-870 -125) translate(502 114) translate(369 12)"}),i("path",{d:"M3.5 0v7",transform:"translate(-870 -125) translate(502 114) translate(369 12) rotate(90 3.5 3.5)"})])])])])],-1),jt=[qt];function Ot(t,e){return a(),l("svg",Nt,[...jt])}const Jt=v(Wt,[["render",Ot],["__file","C:/Users/guilh/Documents/EIDCMP/web-app-v3/src/components/TemplateEditor/assets/icon-increase-font.vue"]]),Qt={props:["selected"],methods:{iconColor(){return this.selected?"#009fb1":"#373c43"}}},Yt={xmlns:"http://www.w3.org/2000/svg",width:"7",height:"9",viewBox:"0 0 7 9"},Xt={fill:"none","fill-rule":"evenodd"},Gt=["fill"],Kt=i("g",null,[i("g",null,[i("path",{d:"M6.127 0l-.095.419c-.131.004-.303.023-.514.057-.211.034-.368.065-.47.095-.177.055-.304.14-.38.254-.076.114-.131.238-.165.374L2.981 7.776c-.008.03-.015.063-.02.101-.003.038-.005.072-.005.102 0 .097.02.18.063.247.042.068.118.127.228.178.064.03.203.064.419.104.216.04.376.065.482.073L4.053 9H0l.095-.419c.119-.008.288-.02.508-.038.22-.017.376-.042.469-.076.165-.059.29-.14.374-.244.085-.104.142-.23.171-.377l1.516-6.584c.009-.038.015-.076.02-.114.003-.038.006-.076.006-.114 0-.085-.018-.159-.054-.222-.036-.064-.111-.12-.226-.171C2.765.59 2.61.542 2.413.498c-.196-.045-.341-.07-.434-.08L2.074 0h4.053z",transform:"translate(-946 -125) translate(502 114) translate(444 11)"})])],-1),Zt=[Kt];function en(t,e,o,r,s,n){return a(),l("svg",Yt,[i("g",Xt,[i("g",{fill:n.iconColor(),"fill-rule":"nonzero"},[...Zt],8,Gt)])])}const tn=v(Qt,[["render",en],["__file","C:/Users/guilh/Documents/EIDCMP/web-app-v3/src/components/TemplateEditor/assets/icon-italic.vue"]]),nn={props:["selected"],methods:{iconColor(){return this.selected?"#009fb1":"#373c43"}}},on={xmlns:"http://www.w3.org/2000/svg",width:"14",height:"10",viewBox:"0 0 14 10"},sn={fill:"none","fill-rule":"evenodd","stroke-linecap":"square"},an=["stroke"],ln=i("g",null,[i("g",null,[i("g",null,[i("path",{d:"M.5.5h13M2.5 3.5h9M.5 6.5h13M2.5 9.5h9",transform:"translate(-1048 -125) translate(-9574 114) translate(10622 11)"})])])],-1),rn=[ln];function dn(t,e,o,r,s,n){return a(),l("svg",on,[i("g",sn,[i("g",{stroke:n.iconColor()},[...rn],8,an)])])}const cn=v(nn,[["render",dn],["__file","C:/Users/guilh/Documents/EIDCMP/web-app-v3/src/components/TemplateEditor/assets/icon-justify-center.vue"]]),un={props:["selected"],methods:{iconColor(){return this.selected?"#009fb1":"#373c43"}}},mn={xmlns:"http://www.w3.org/2000/svg",width:"14",height:"10",viewBox:"0 0 14 10"},pn={fill:"none","fill-rule":"evenodd","stroke-linecap":"square"},vn=["stroke"],hn=i("g",null,[i("g",null,[i("g",null,[i("path",{d:"M.5.5h13M.5 6.5h13M.5 3.5h9M.5 9.5h9",transform:"translate(-1016 -125) translate(-9574 114) translate(0 11) translate(10590)"})])])],-1),fn=[hn];function gn(t,e,o,r,s,n){return a(),l("svg",mn,[i("g",pn,[i("g",{stroke:n.iconColor()},[...fn],8,vn)])])}const Cn=v(un,[["render",gn],["__file","C:/Users/guilh/Documents/EIDCMP/web-app-v3/src/components/TemplateEditor/assets/icon-justify-left.vue"]]),_n={props:["selected"],methods:{iconColor(){return this.selected?"#009fb1":"#373c43"}}},yn={xmlns:"http://www.w3.org/2000/svg",width:"14",height:"10",viewBox:"0 0 14 10"},bn={fill:"none","fill-rule":"evenodd"},wn=["stroke"],xn=i("g",null,[i("g",null,[i("path",{fill:"#D8D8D8",d:"M0.5 0.5H9.5V1.5H0.5z",transform:"translate(-1080 -125) translate(-9574 114) translate(10654 11) translate(4 9)"}),i("g",{"stroke-linecap":"square"},[i("path",{d:"M.5.5h13M.5 6.5h13M13.5 9.5h-9M13.5 3.5h-9",transform:"translate(-1080 -125) translate(-9574 114) translate(10654 11)"})])])],-1),Sn=[xn];function Dn(t,e,o,r,s,n){return a(),l("svg",yn,[i("g",bn,[i("g",{stroke:n.iconColor()},[...Sn],8,wn)])])}const Mn=v(_n,[["render",Dn],["__file","C:/Users/guilh/Documents/EIDCMP/web-app-v3/src/components/TemplateEditor/assets/icon-justify-right.vue"]]),kn={props:["selected"],methods:{iconColor(){return this.selected?"#009fb1":"#373c43"}}},In={width:"18",height:"16",xmlns:"http://www.w3.org/2000/svg"},Bn=["fill"],En=i("path",{d:"M6.022 1 3 8h.98l.736-1.75h3.548L8.998 8H10L6.967 1h-.945zm.468 1.02 1.44 3.43H5.05l1.44-3.43zM13.663 7.09c.232-.151.4-.365.504-.642v-.685h-1.284c-.706 0-1.06.253-1.06.758 0 .246.09.441.27.583.18.142.428.213.746.213.319 0 .593-.076.824-.227m.829-3.591c.338.332.508.829.508 1.488v2.958h-.79v-.647c-.14.228-.337.403-.594.522-.258.12-.562.18-.916.18-.514 0-.927-.131-1.236-.397-.31-.265-.464-.613-.464-1.044 0-.432.148-.779.443-1.04.295-.263.763-.393 1.405-.393h1.32v-.177c0-.38-.105-.674-.314-.878-.209-.203-.514-.304-.92-.304a2.29 2.29 0 0 0-.798.143c-.26.095-.48.224-.66.383l-.346-.666c.237-.202.521-.358.85-.466.33-.108.68-.161 1.05-.161.636 0 1.124.166 1.462.499M13.158 9.643l2.078 1.929H2.765l2.079-1.929L4.234 9 1 12l3.234 3 .61-.643-2.08-1.929h12.472l-2.078 1.929.61.643L17 12l-3.232-3z"},null,-1),Tn=[En];function $n(t,e,o,r,s,n){return a(),l("svg",In,[i("g",{fill:n.iconColor(),"fill-rule":"evenodd"},[...Tn],8,Bn)])}const An=v(kn,[["render",$n],["__file","C:/Users/guilh/Documents/EIDCMP/web-app-v3/src/components/TemplateEditor/assets/icon-spacing.vue"]]),zn={props:["selected"],methods:{iconColor(){return this.selected?"#009fb1":"#373c43"}}},Hn={xmlns:"http://www.w3.org/2000/svg",width:"10",height:"11",viewBox:"0 0 10 11"},Pn={fill:"none","fill-rule":"evenodd"},Vn=["fill"],Fn=i("g",null,[i("g",null,[i("path",{d:"M4.456 8.472c-1.088 0-1.936-.312-2.544-.936C1.304 6.912 1 6.004 1 4.812V0h.888v4.776c0 .976.22 1.704.66 2.184.44.48 1.076.72 1.908.72.84 0 1.48-.24 1.92-.72.44-.48.66-1.208.66-2.184V0H7.9v4.812c0 1.192-.302 2.1-.906 2.724-.604.624-1.45.936-2.538.936zM0 10.897L0 10.224 9.228 10.224 9.228 10.897z",transform:"translate(-976 -125) translate(502 114) translate(474 11)"})])],-1),Rn=[Fn];function Ln(t,e,o,r,s,n){return a(),l("svg",Hn,[i("g",Pn,[i("g",{fill:n.iconColor(),"fill-rule":"nonzero"},[...Rn],8,Vn)])])}const Un=v(zn,[["render",Ln],["__file","C:/Users/guilh/Documents/EIDCMP/web-app-v3/src/components/TemplateEditor/assets/icon-underlined.vue"]]),Wn={props:["selected"],methods:{iconColor(){return this.selected?"#009fb1":"#373c43"}}},Nn=["fill"],qn=i("g",null,[i("path",{class:"st0",d:"M16.5,14c-4.1-4.1-10.9-4.1-15,0l-0.6-0.6c4.5-4.5,11.7-4.5,16.2,0L16.5,14z"}),i("path",{class:"st1",d:"M7.4,6.8L3.8,7.6L3.4,9.5l-1,0.2l1.5-7.5l1-0.2l4.7,6.1l-1,0.2L7.4,6.8z M6.9,6.1l-2.2-3L3.9,6.8L6.9,6.1z"}),i("path",{class:"st1",d:`M15.8,4.8C16,5.4,16,6,15.8,6.5l-1.1,3l-0.9-0.3l0.2-0.7c-0.2,0.2-0.5,0.3-0.8,0.3c-0.4,0-0.7,0-1.1-0.2\r
		c-0.5-0.2-0.9-0.5-1.2-0.9c-0.3-0.4-0.3-0.9-0.1-1.3c0.1-0.4,0.5-0.7,0.9-0.9c0.6-0.1,1.1-0.1,1.7,0.2l1.4,0.5l0.1-0.2\r
		c0.1-0.3,0.1-0.7,0-1c-0.2-0.3-0.5-0.5-0.9-0.6c-0.3-0.1-0.6-0.2-0.9-0.2c-0.3,0-0.6,0-0.9,0.1l-0.1-0.8c0.4-0.1,0.7-0.2,1.1-0.1\r
		c0.4,0,0.8,0.1,1.2,0.2C15,3.9,15.5,4.3,15.8,4.8z M13.6,8.1c0.3-0.1,0.6-0.2,0.8-0.4L14.6,7l-1.4-0.5c-0.8-0.3-1.2-0.2-1.4,0.3\r
		c-0.1,0.2-0.1,0.5,0.1,0.7C12,7.8,12.3,8,12.6,8.1C12.9,8.2,13.2,8.2,13.6,8.1z`})],-1),jn=[qn];function On(t,e,o,r,s,n){return a(),l("svg",{fill:n.iconColor(),version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 18 16",style:{"enable-background":"new 0 0 18 16"},"xml:space":"preserve"},[...jn],8,Nn)}const Jn=v(Wn,[["render",On],["__file","C:/Users/guilh/Documents/EIDCMP/web-app-v3/src/components/TemplateEditor/assets/icon-warp.vue"]]),Qn={components:{IconDecreaseFont:Ut,IconIncreaseFont:Jt,IconBold:Ht,IconItalic:tn,IconUnderlined:Un,IconJustifyLeft:Cn,IconJustifyCenter:cn,IconJustifyRight:Mn,IconSpacing:An,IconWarp:Jn},data(){return{fontFamily:"Montserrat",inputMode:!1,pageHeight:screen.availHeight-16*(7+3.5+3*5),spacingVisible:!1,warpingVisible:!1,customTemplate:{"wallid.io":!0}}},computed:{...B(K,["adminEmail"]),...B(b,["activeComponent","renderedDimensions","selectedTab","layoutBackgroundColor"]),...R(b,["layoutBackgroundColor"]),activeComponent:{get(){return b().activeComponent},set(t){b().setActiveComponent(t)}},activeComponentStyles:{get(){return this.activeComponent?.styles},set(t){this.activeComponent.styles=t}}},methods:{isText(){return this.activeComponent?.type==="text"},isSignature(){return this.activeComponent?.type==="signature"},showFeature(){return this.adminEmail&&this.customTemplate[this.getEmail(this.adminEmail).domain]}}},I=t=>(j("data-v-c86f252d"),t=t(),O(),t),Yn={class:"toolbar"},Xn={class:"edition"},Gn={style:{"margin-right":"0.3rem"}},Kn={style:{"margin-right":"0.3rem"}},Zn={key:0,class:"picker"},ei={style:{"border-radius":"0.3rem","margin-right":"8px",padding:"0 0.5rem","justify-items":"center"}},ti={class:"picker"},ni={class:"font-family"},ii=q('<option value="Abril Fatface" data-v-c86f252d> Abril Fatface </option><option value="Acme" data-v-c86f252d> Acme </option><option value="Amatic SC" data-v-c86f252d> Amatic SC </option><option value="Anonymous Pro" data-v-c86f252d> Anonymous Pro </option><option value="Architects Daughter" data-v-c86f252d> Architects Daughter </option><option value="Bad Script" data-v-c86f252d> Bad Script </option><option value="Bangers" data-v-c86f252d> Bangers </option><option value="Caveat" data-v-c86f252d> Caveat </option><option value="Cinzel" data-v-c86f252d> Cinzel </option><option value="Courgette" data-v-c86f252d> Courgette </option><option value="Crimson Text" data-v-c86f252d> Crimson Text </option><option value="Dancing Script" data-v-c86f252d> Dancing Script </option><option value="Fredoka One" data-v-c86f252d> Fredoka One </option><option value="Great Vibes" data-v-c86f252d> Great Vibes </option><option value="Indie Flower" data-v-c86f252d> Indie Flower </option><option value="Josefin Sans" data-v-c86f252d> Josefin Sans </option><option value="Lato" data-v-c86f252d> Lato </option><option value="Lobster" data-v-c86f252d> Lobster </option><option value="Merienda" data-v-c86f252d> Merienda </option><option value="Merriweather" data-v-c86f252d> Merriweather </option><option value="Montserrat" data-v-c86f252d> Montserrat </option><option value="Noto Sans JP" data-v-c86f252d> Open Sans </option><option value="Nunito" data-v-c86f252d> Nunito </option><option value="Open Sans" data-v-c86f252d> Open Sans </option><option value="Oswald" data-v-c86f252d> Oswald </option><option value="Pacifico" data-v-c86f252d> Pacifico </option><option value="Patrick Hand" data-v-c86f252d> Patrick Hand </option><option value="Permanent Marker" data-v-c86f252d> Permanent Marker </option><option value="Pixeled" data-v-c86f252d> Pixeled </option><option value="Playfair Display" data-v-c86f252d> Plafair Display </option><option value="Poppins" data-v-c86f252d> Poppins </option><option value="PressStart2P" data-v-c86f252d> PressStart2P </option><option value="PT Sans" data-v-c86f252d> PT Sans </option><option value="Raleway" data-v-c86f252d> Raleway </option><option value="Retro Gaming" data-v-c86f252d> Retro Gaming </option><option value="Roboto" data-v-c86f252d> Roboto </option><option value="Roboto Condensed" data-v-c86f252d> Roboto Condensed </option><option value="Roboto Mono" data-v-c86f252d> Roboto Mono </option><option value="Roboto Slab" data-v-c86f252d> Roboto Slab </option><option value="Rubik" data-v-c86f252d> Rubik </option><option value="Shadows Into Light" data-v-c86f252d> Shadows Into Light </option><option value="Source Sans" data-v-c86f252d> Source Sans </option><option value="Tangerine" data-v-c86f252d> Tangerine </option><option value="Ubuntu" data-v-c86f252d> Ubuntu </option>',44),oi=[ii],si={class:"font-family"},ai=I(()=>i("option",{value:"Dawning of a New Day",style:{"font-family":"Dawning of a New Day !important"}}," Dawning of a New Day ",-1)),li=I(()=>i("option",{value:"Cedarville Cursive",style:{"font-family":"Cedarville Cursive !important"}}," Cedarville Cursive ",-1)),ri=I(()=>i("option",{value:"Covered By Your Grace",style:{"font-family":"Covered By Your Grace !important"}}," Covered By Your Grace ",-1)),di=I(()=>i("option",{value:"Nothing You Could Do",style:{"font-family":"Nothing You Could Do !important"}}," Nothing You Could Do ",-1)),ci=[ai,li,ri,di],ui={class:"font-size"},mi={key:0,style:{position:"absolute",top:"130%",right:"0%","background-color":"#ffffff",padding:"12px 16px",height:"min-content"}},pi=I(()=>i("span",{style:{"white-space":"nowrap","font-size":"12px","font-weight":"500","margin-right":"24px"}}," Letter Spacing ",-1)),vi={class:"font-size"},hi={key:0,style:{position:"absolute",top:"130%",right:"0%","background-color":"#ffffff",padding:"12px 16px",height:"min-content"}},fi=I(()=>i("span",{style:{"white-space":"nowrap","font-size":"12px","font-weight":"500","margin-right":"24px"}}," Warp ",-1)),gi={style:{padding:"0.5rem",border:"none"}},Ci=["min","max"],_i=I(()=>i("datalist",{id:"warp"},[i("option",{value:0})],-1));function yi(t,e,o,r,s,n){const C=f("IconDecreaseFont"),x=f("IconIncreaseFont"),k=f("IconSpacing"),S=f("IconBold"),E=f("IconItalic"),u=f("IconUnderlined"),T=f("IconJustifyLeft"),_=f("IconJustifyCenter"),Y=f("IconJustifyRight"),X=f("IconWarp");return a(),l("div",Yn,[c(`         <div class="undo">
            <IconUndo/>
        </div>
        <div class="redo">
            <IconRedo/>
        </div> `),w(" "+g(t.renderedDimensions)+" ",1),i("div",Xn,[d(i("span",Gn," X: ",512),[[m,n.activeComponent.id]]),d(i("div",{style:{width:"3.5rem","margin-right":"0.5rem","border-radius":"0.3rem","justify-items":"center"}},g((Math.floor(n.activeComponent.x*10)/10).toFixed(1)),513),[[m,n.activeComponent.id]]),d(i("span",Kn," Y: ",512),[[m,n.activeComponent.id]]),d(i("div",{style:{width:"3.5rem","margin-right":"8px","border-radius":"0.3rem","justify-items":"center"}},g((Math.floor(n.activeComponent.y*10)/10).toFixed(1)),513),[[m,n.activeComponent.id]]),n.isText()||n.isSignature()&&!n.activeComponent.src?(a(),l("div",Zn,[d(i("input",{"onUpdate:modelValue":e[0]||(e[0]=h=>n.activeComponentStyles.fontColor=h),type:"color"},null,512),[[V,n.activeComponentStyles.fontColor]])])):c("v-if",!0),d(i("div",ei,[d(i("input",{"onUpdate:modelValue":e[1]||(e[1]=h=>n.activeComponent.visible=h),type:"checkbox"},null,512),[[ne,n.activeComponent.visible]])],512),[[m,n.isText()]]),d(i("div",ti,[d(i("input",{"onUpdate:modelValue":e[2]||(e[2]=h=>t.layoutBackgroundColor=h),type:"color"},null,512),[[V,t.layoutBackgroundColor]])],512),[[m,t.selectedTab==="Backgrounds"&&!n.activeComponent]]),d(i("div",ni,[d(i("select",{"onUpdate:modelValue":e[3]||(e[3]=h=>n.activeComponentStyles.fontFamily=h)},[...oi],512),[[W,n.activeComponentStyles.fontFamily]])],512),[[m,n.isText()]]),d(i("div",si,[d(i("select",{"onUpdate:modelValue":e[4]||(e[4]=h=>n.activeComponentStyles.fontFamily=h)},[...ci],512),[[W,n.activeComponentStyles.fontFamily]])],512),[[m,n.isSignature()&&!n.activeComponent.src]]),d(i("div",{class:"decrease-font",onClick:e[5]||(e[5]=h=>n.activeComponentStyles.fontSize-=1)},[p(C)],512),[[m,n.isText()||n.isSignature()&&!n.activeComponent.src]]),d(i("div",ui,[c(" default value is 2.5% of the page height, 1000* and - 9 makes it display 16 "),c(" make it v-model to allow edition "),w(" "+g(n.activeComponentStyles.fontSize),1)],512),[[m,n.isText()||n.isSignature()&&!n.activeComponent.src]]),d(i("div",{class:"increase-font",onClick:e[6]||(e[6]=h=>n.activeComponentStyles.fontSize++)},[p(x)],512),[[m,n.isText()||n.isSignature()&&!n.activeComponent.src]]),d(i("div",{class:D({active:s.spacingVisible}),style:{width:"2rem","border-radius":"0.3rem","margin-right":"8px","justify-items":"center",position:"relative",overflow:"visible !important"}},[i("div",{style:{width:"2rem","max-height":"100%",padding:"0",margin:"0",border:"none","background-color":"transparent"},onClick:e[7]||(e[7]=$(h=>s.spacingVisible=!s.spacingVisible,["prevent"]))},[p(k,{selected:s.spacingVisible},null,8,["selected"])]),s.spacingVisible?(a(),l("div",mi,[pi,d(i("div",{class:"decrease-font",onClick:e[8]||(e[8]=h=>n.activeComponent.spacing-=1)},[p(C)],512),[[m,n.isText()]]),d(i("div",vi,[c(" default value is 2.5% of the page height, 1000* and - 9 makes it display 16 "),c(" make it v-model to allow edition "),w(" "+g(n.activeComponent.spacing),1)],512),[[m,n.isText()]]),d(i("div",{class:"increase-font",style:{"margin-right":"0"},onClick:e[9]||(e[9]=h=>n.activeComponent.spacing++)},[p(x)],512),[[m,n.isText()]])])):c("v-if",!0)],2),[[m,n.isText()&&n.showFeature()]]),d(i("div",{class:D(["bold",{active:n.activeComponentStyles.isBold,noRightBorder:n.activeComponentStyles.isItalic&&!n.activeComponentStyles.isBold}]),onClick:e[10]||(e[10]=h=>n.activeComponentStyles.isBold=!n.activeComponentStyles.isBold)},[p(S,{selected:n.activeComponentStyles.isBold},null,8,["selected"])],2),[[m,n.isText()]]),d(i("div",{class:D(["italic",{active:n.activeComponentStyles.isItalic,noRightBorder:n.activeComponentStyles.isUnderlined,noLeftBorder:n.activeComponentStyles.isBold}]),onClick:e[11]||(e[11]=h=>n.activeComponentStyles.isItalic=!n.activeComponentStyles.isItalic)},[p(E,{selected:n.activeComponentStyles.isItalic},null,8,["selected"])],2),[[m,n.isText()]]),d(i("div",{class:D(["underlined",{active:n.activeComponentStyles.isUnderlined,noLeftBorder:n.activeComponentStyles.isItalic&&!n.activeComponentStyles.isUnderlined}]),onClick:e[12]||(e[12]=h=>n.activeComponentStyles.isUnderlined=!n.activeComponentStyles.isUnderlined)},[p(u,{selected:n.activeComponentStyles.isUnderlined},null,8,["selected"])],2),[[m,n.isText()]]),d(i("div",{class:D(["align-left",{active:n.activeComponentStyles.textAlign==="left",noRightBorder:n.activeComponentStyles.textAlign==="center"}]),onClick:e[13]||(e[13]=h=>n.activeComponentStyles.textAlign="left")},[p(T,{selected:n.activeComponentStyles.textAlign==="left"},null,8,["selected"])],2),[[m,n.isText()]]),d(i("div",{class:D(["align-center",{active:n.activeComponentStyles.textAlign==="center"}]),onClick:e[14]||(e[14]=h=>n.activeComponentStyles.textAlign="center")},[p(_,{selected:n.activeComponentStyles.textAlign==="center"},null,8,["selected"])],2),[[m,n.isText()]]),d(i("div",{class:D(["align-right",{active:n.activeComponentStyles.textAlign==="right",noLeftBorder:n.activeComponentStyles.textAlign==="center"}]),onClick:e[15]||(e[15]=h=>n.activeComponentStyles.textAlign="right")},[p(Y,{selected:n.activeComponentStyles.textAlign==="right"},null,8,["selected"])],2),[[m,n.isText()]]),d(i("div",{class:D({active:s.warpingVisible}),style:{width:"2rem","border-radius":"0.3rem","margin-right":"8px","justify-items":"center",position:"relative",overflow:"visible !important"}},[i("div",{style:{width:"2rem","max-height":"100%",padding:"0",margin:"0",border:"none","background-color":"transparent"},onClick:e[16]||(e[16]=$(h=>s.warpingVisible=!s.warpingVisible,["prevent"]))},[p(X,{selected:s.warpingVisible},null,8,["selected"])]),s.warpingVisible?(a(),l("div",hi,[fi,i("div",gi,[d(i("input",{"onUpdate:modelValue":e[17]||(e[17]=h=>n.activeComponent.warp=h),type:"range",min:-s.pageHeight*1.5,max:s.pageHeight*1.5,list:"warp"},null,8,Ci),[[m,n.isText()],[V,n.activeComponent.warp]]),_i])])):c("v-if",!0)],2),[[m,n.isText()&&n.showFeature()]])]),c(` <div v-show="activeComponent" class="edition">
            <div class="arrange-front">
                <IconArrangeFront/>
            </div>
            <div class="arrange-back">
                <IconArrangeBack/>
            </div>
        </div> `)])}const bi=v(Qn,[["render",yi],["__scopeId","data-v-c86f252d"],["__file","C:/Users/guilh/Documents/EIDCMP/web-app-v3/src/components/TemplateEditor/components/Canvas/Toolbar.vue"]]),wi={components:{Toolbar:bi,IconAddPage:ve,IconDelete:J,Page:kt,Hover:Q},props:{editable:{default:!0},width:{default:screen.availHeight-16*(7+3.5+3*5)},snapshot:{default:!1}},data(){return{pageHeight:screen.availHeight-16*(7+3.5+3*5),iconColorFront:"",iconColorBack:"",displayDeleteHover:!1,displayClearHover:!1,BASE_WIDTH:L}},computed:{...mapState(b,["template","currentLayout","layoutBackgroundColor"]),...R(b,["initialWidth","components","activeComponent","layoutBackgroundColor","renderedDimensions","backSide","activeTemplateSide"])},watch:{backSide(t){t===!0&&setTimeout(()=>{this.$refs.back.scrollIntoView({behavior:"smooth"})},100)},components(t){},currentLayout(){this.calculateRenderedDimensions()}},created(){window.addEventListener("resize",this.calculateRenderedDimensions)},mounted(){this.calculateRenderedDimensions()},unmounted(){window.removeEventListener("resize",this.calculateRenderedDimensions)},methods:{calculateRenderedDimensions(){const t=this.$refs.page.getBoundingClientRect().height,e=this.$refs.page.getBoundingClientRect().width,o=this.$refs.passepartout.getBoundingClientRect().height,r=this.$refs.passepartout.getBoundingClientRect().width;this.initialWidth=Math.min(o,r)-50,this.renderedDimensions=this.initialWidth/L},clearActiveComponent(){this.activeComponent?.isEditable&&(this.activeComponent.isEditable=!1),b().setActiveComponent()},clearPage(){this.template.idFront=0,this.template.backgroundFront="",this.components?.length>0&&(this.components=this.template.components.filter(t=>t.type!=="qrcode"&&t.templateSide==="back")),this.template.backgroundFront="",b().setActiveComponent(U)},deletePage(){this.template.idBack=0,this.template.backgroundBack="";function t(e){return e.templateSide==="front"}this.components&&(this.components=this.components.filter(t)),this.template.backgroundBack="",b().setActiveComponent(U),this.backSide=!1},setCurrentSide(){const t=this.$refs.passepartout.scrollHeight,e=this.$refs.passepartout.scrollTop+this.$refs.passepartout.offsetHeight;this.backSide?e<t*3/4?this.activeTemplateSide="front":this.activeTemplateSide="back":this.activeTemplateSide="front"}}},xi={class:"canvas"},Si={key:0,class:"options"},Di=["id"];function Mi(t,e,o,r,s,n){const C=f("Toolbar"),x=f("Page"),k=f("IconDelete"),S=f("Hover"),E=f("IconAddPage");return a(),l("div",xi,[o.editable?(a(),l("div",Si,[p(C)])):c("v-if",!0),i("div",{ref:"passepartout",class:"passepartout",onScroll:e[7]||(e[7]=u=>n.setCurrentSide()),onMousedown:e[8]||(e[8]=$(u=>n.clearActiveComponent(),["self"]))},[i("div",{id:o.snapshot?"template-canvas":"page",ref:"page",class:"page",style:y(o.editable?"":"pointer-events: none; user-select: none; ")},[p(x,{side:"front","initial-width":t.initialWidth,editable:o.editable,"rendered-dimensions":t.renderedDimensions},null,8,["initial-width","editable","rendered-dimensions"]),o.editable&&t.currentLayout?(a(),l("div",{key:0,class:"delete-page",style:{display:"flex",overflow:"visible !important","white-space":"nowrap",transform:"translateX(125%)"},onClick:e[0]||(e[0]=u=>n.clearPage()),onMouseover:e[1]||(e[1]=u=>(s.iconColorFront="red",s.displayClearHover=!0)),onMouseout:e[2]||(e[2]=u=>(s.iconColorFront="",s.displayClearHover=!1))},[p(k,{color:s.iconColorFront},null,8,["color"]),d(p(S,null,{default:M(()=>[w(g(t.$t("canvas.clearPage")),1)]),_:1},512),[[m,s.displayClearHover]])],32)):c("v-if",!0)],12,Di),d(i("div",{class:"add-page",style:y({minWidth:`${t.renderedDimensions*s.BASE_WIDTH}px`,color:"#373c43"}),onClick:e[3]||(e[3]=u=>t.backSide=!0)},[p(E,{style:{"margin-right":"0.5rem"}}),w(g(t.$t("canvas.addBackside")),1)],4),[[m,!t.backSide&&o.editable&&t.currentLayout==="A4"]]),d(i("div",{id:"back",ref:"back",style:y([{"margin-top":"1.25rem","margin-bottom":"5rem"},o.editable?"":"pointer-events: none; user-select: none; "]),class:"page"},[p(x,{side:"back","initial-width":t.initialWidth,editable:o.editable},null,8,["initial-width","editable"]),o.editable?(a(),l("div",{key:0,class:"delete-page",style:y([{display:"flex",overflow:"visible !important","white-space":"nowrap","z-index":"1"},{transform:"translateX(125%)"}]),onClick:e[4]||(e[4]=u=>n.deletePage()),onMouseover:e[5]||(e[5]=u=>(s.iconColorBack="red",s.displayDeleteHover=!0)),onMouseout:e[6]||(e[6]=u=>(s.iconColorBack="",s.displayDeleteHover=!1))},[p(k,{color:s.iconColorBack},null,8,["color"]),d(p(S,null,{default:M(()=>[w(g(t.$t("canvas.deletePage")),1)]),_:1},512),[[m,s.displayDeleteHover]])],32)):c("v-if",!0)],4),[[m,t.backSide]])],544)])}const Ui=v(wi,[["render",Mi],["__scopeId","data-v-ea84db9d"],["__file","C:/Users/guilh/Documents/EIDCMP/web-app-v3/src/components/TemplateEditor/components/Canvas/Canvas.vue"]]),ki={name:"ConfirmCreateModal",components:{IconClose:oe,IconSuccess:ae,Spinner:se},props:{message:{required:!0}},emits:["confirm","close"],data(){return{disable:!1}},computed:{},watch:{},created(){},methods:{confirm(){this.disable=!0,this.$emit("confirm")},close(){this.$emit("close")}}},Ii={class:"modal-backdrop"},Bi={key:0},Ei={class:"modal-body text-center pa-7"},Ti={key:2,class:"subtitle_header mx-auto pa-4"},$i={class:"subtitle_text px-16"},Ai={key:1,class:"modal-footer"};function zi(t,e,o,r,s,n){const C=f("IconClose"),x=f("Spinner"),k=f("IconSuccess");return a(),H(ie,{name:"modal-fade",persisted:""},{default:M(()=>[d(i("div",Ii,[i("div",{class:"modal-wallid message",role:"dialog","aria-labelledby":"modalTitle","aria-describedby":"modalDescription",onClick:e[3]||(e[3]=$(()=>{},["stop"]))},[o.message!=="storing"?(a(),l("header",{key:0,id:"modalTitle",class:D(["modal-header",o.message==="confirm"?"--text-header":""])},[z(t.$slots,"header",{},()=>[o.message==="confirm"?(a(),l("span",Bi,g(t.$t(`modals.${o.message}.title`)),1)):c("v-if",!0),p(le),i("button",{type:"button",class:"btn-close","aria-label":"Close modal",onClick:e[0]||(e[0]=(...S)=>n.close&&n.close(...S))},[p(C)])])],2)):c("v-if",!0),i("div",Ei,[z(t.$slots,"body",{},()=>[o.message==="storing"?(a(),H(x,{key:0})):c("v-if",!0),o.message==="credentials"||o.message==="credential"||o.message==="email"||o.message==="successCreateTemplate"?(a(),H(k,{key:1})):c("v-if",!0),o.message!=="confirm"?(a(),l("h2",Ti,g(t.$t(`modals.${o.message}.title`)),1)):c("v-if",!0),i("p",$i,g(t.$t(`modals.${o.message}.text`)),1)])]),o.message==="confirm"?(a(),l("div",Ai,[z(t.$slots,"footer",{},()=>[p(re,{class:"justify-end","no-gutters":""},{default:M(()=>[p(N,{class:"back mr-4",onClick:e[1]||(e[1]=S=>n.close())},{default:M(()=>[w(g(t.$t(`modals.${o.message}.cancel`)),1)]),_:1}),p(N,{class:"next",loading:s.disable,disabled:s.disable,onClick:e[2]||(e[2]=S=>n.confirm())},{default:M(()=>[w(g(t.$t(`modals.${o.message}.confirm`)),1)]),_:1},8,["loading","disabled"])]),_:1})])])):c("v-if",!0)])],512),[[m,!0]])]),_:3})}const Wi=v(ki,[["render",zi],["__file","C:/Users/guilh/Documents/EIDCMP/web-app-v3/src/components/TemplateEditor/modals/MessageModal.vue"]]);export{Wi as M,Ui as T};
//# sourceMappingURL=MessageModal-C6eklx31.js.map
