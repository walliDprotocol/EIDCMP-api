{"version":3,"file":"SignUp-C06D2_9e.js","sources":["../../src/views/SignUp.vue"],"sourcesContent":["<script>\n// import { mapGetters } from \"vuex\";\nimport { SIGN_IN } from '../store/actions'\nimport AppFooter from '../layout/AppFooter'\n\nexport default {\n  name: 'SignUp',\n  components: {\n    AppFooter,\n  },\n  data() {\n    return {\n      card: undefined,\n      step: 1,\n      showSign: false,\n      showButton: false,\n      checkOnce: true,\n      numberTries: 5,\n    }\n  },\n  computed: {},\n  watch: {\n    step(value) {\n      console.log('after', value, this.showButton)\n      this.showButton = false\n    },\n  },\n  created() {\n    this.$debug(`*** ${this.$options.name} ***`)\n  },\n  async mounted() {\n    window.addEventListener('focus', this.onFocus)\n    window.addEventListener('blur', this.onBlur)\n    document.addEventListener('wallid_event_ready', () => {\n      this.step = 2\n      this.$log.debug('Force plugin connect listener')\n\n      try {\n        window.wallid('wallid_connect', { level: 2 }).then(() => {\n          console.log('connected')\n          this.$store.dispatch(SIGN_IN)\n          sessionStorage.setItem('WALLET_CREATED', true)\n          this.$router.push('/Dashboard')\n        })\n      }\n      catch (err) {\n        console.log(err)\n        this.step = 1\n        sessionStorage.removeItem('WALLET_CREATED')\n        // localStorage.removeItem(\"PLUGIN_INSTALLED\");\n        // this.$router.push(\"/SignIn\");\n      }\n    })\n\n    document.addEventListener('wallid_wallet_done', () => {\n      this.showSign = true\n    })\n\n    console.log(localStorage.getItem('PLUGIN_INSTALLED') === 'true')\n\n    console.log('hasWallet', hasWallet)\n\n    if (\n      localStorage.getItem('PLUGIN_INSTALLED') === 'true'\n      && localStorage.getItem('REGISTRATION_IN_PROGRESS') === 'false' // true?\n      && !hasWallet\n    ) {\n      this.step = 2\n      this.$log.debug('Force plugin connect mounted')\n\n      try {\n        window.wallid('wallid_connect', { level: 2 }).then(() => {\n          console.log('connected')\n          clearInterval(this.t)\n\n          this.$store.dispatch(SIGN_IN)\n          sessionStorage.setItem('WALLET_CREATED', 'true')\n          newOnboarding.stopOnboarding()\n          this.$router.push('/Dashboard')\n        })\n      }\n      catch (err) {\n        console.log(err)\n        this.step = 1\n        sessionStorage.removeItem('WALLET_CREATED')\n      }\n    }\n\n    if (!hasWallet)\n      this.t = setInterval(() => this.checkPlugin(), 300)\n  },\n  unmounted() {\n    window.removeEventListener('focus', this.onFocus)\n    window.removeEventListener('blur', this.onBlur)\n  },\n  methods: {\n\n  },\n}\n</script>\n\n<template>\n  <v-container class=\"signin pa-0\">\n    <v-row>\n      <v-col cols=\"5\" class=\"pt-8 pb-8\" style=\"padding-left: 10vw\">\n        <v-col cols=\"12\" class=\"pt-8 pb-8 pl-9\">\n          <div class=\"d-flex align-center\">\n            <v-img\n              alt=\"Vuetify Logo\"\n              class=\"shrink mr-2\"\n              contain\n              src=\"../assets/logos/logo-credential-issuers.png\"\n              transition=\"scale-transition\"\n              width=\"103\"\n            />\n          </div>\n        </v-col>\n        <v-col cols=\"12\" class=\"pt-8 pb-0 pl-9\">\n          <p class=\"light_text\">\n            {{ $t('signup.step[0]') }} {{ step }} {{ $t('signup.step[1]') }} 2\n          </p>\n        </v-col>\n        <v-stepper v-model=\"step\" class=\"stepper-signup\" elevation=\"0\">\n          <v-stepper-items>\n            <v-stepper-content step=\"1\" class=\"pt-0\">\n              <v-container class=\"pr-12 pt-0\">\n                <v-row>\n                  <v-col cols=\"12\" class=\"pt-2 pb-5\">\n                    <h1 class=\"title_header\">\n                      {{ $t('signup.steps[0].title') }}\n                    </h1>\n                  </v-col>\n                  <v-col cols=\"12\" class=\"pt-1 pr-10\">\n                    <p class=\"subtitle_text\">\n                      {{ $t('signup.steps[0].subtitle') }}\n                    </p>\n                  </v-col>\n                  <v-col cols=\"7\" class=\"pt-1 pr-10\">\n                    <!-- Remove on click, add again if user clicks\n              outside plugin login and doesnt sign in  -->\n                    <v-btn\n                      text\n                      class=\"advance-btn\"\n                      style=\"max-width: 230px\"\n                      @click=\"startOnboarding\"\n                    >\n                      {{ $t('signup.steps[0].button') }}\n                    </v-btn>\n                  </v-col>\n                  <v-col cols=\"12\" class=\"pt-7 pb-16\">\n                    <p class=\"normal_text\">\n                      {{ $t('signup.steps[0].signup[0]') }}\n                      <router-link to=\"SignIn\" class=\"links\">\n                        {{ $t('signup.steps[0].signup[1]') }}\n                      </router-link>\n                    </p>\n                  </v-col>\n                </v-row>\n              </v-container>\n            </v-stepper-content>\n\n            <v-stepper-content step=\"2\" class=\"pt-0\">\n              <v-container class=\"pr-12 pt-0\">\n                <v-row v-if=\"!showSign\">\n                  <v-col cols=\"12\" class=\"pt-2 pb-5\">\n                    <h1 class=\"title_header\">\n                      {{ $t('signup.steps[1].title') }}\n                    </h1>\n                  </v-col>\n                  <v-col cols=\"12\" class=\"pt-1 pr-16\">\n                    <p class=\"subtitle_text mb-0\">\n                      {{ $t('signup.steps[1].subtitle') }}\n                    </p>\n                  </v-col>\n                  <v-col v-if=\"showButton\" cols=\"7\" class=\"py-7 pr-10\">\n                    <!-- Remove on click, add again if user clicks\n              outside plugin login and doesnt sign in  -->\n                    <v-btn text class=\"advance-btn\" @click=\"createPlugin\">\n                      {{ $t('signup.steps[1].button') }}\n                    </v-btn>\n                  </v-col>\n                  <v-col cols=\"12\" class=\"pr-16 pb-16\">\n                    <p class=\"normal_text\">\n                      {{ $t('signup.steps[0].signup[0]') }}\n                      <router-link to=\"SignIn\" class=\"links\">\n                        {{ $t('signup.steps[0].signup[1]') }}\n                      </router-link>\n                    </p>\n                  </v-col>\n                </v-row>\n                <v-row v-else>\n                  <v-col cols=\"12\" class=\"pt-2 pb-5\">\n                    <h1 class=\"title_header\">\n                      {{ $t('signup.steps[2].title') }}\n                    </h1>\n                  </v-col>\n                  <v-col cols=\"12\" class=\"pt-1 pr-16\">\n                    <p class=\"subtitle_text\">\n                      {{ $t('signup.steps[2].subtitle') }}\n                    </p>\n                  </v-col>\n                  <v-col cols=\"7\" class=\"pt-1 pr-10\">\n                    <!-- Remove on click, add again if user clicks\n              outside plugin login and doesnt sign in  -->\n                    <v-btn\n                      v-if=\"showButton\"\n                      text\n                      class=\"advance-btn\"\n                      @click=\"createPlugin\"\n                    >\n                      {{ $t('signin.button') }}\n                    </v-btn>\n                  </v-col>\n                </v-row>\n              </v-container>\n            </v-stepper-content>\n          </v-stepper-items>\n        </v-stepper>\n      </v-col>\n      <v-col cols=\"7\" class=\"pa-0\">\n        <v-img\n          alt=\"Wallid Background\"\n          class=\"shrink mr-2\"\n          contain\n          src=\"../assets/wallid-background.jpg\"\n          transition=\"scale-transition\"\n          min-width=\"864\"\n          min-height=\"100\"\n        />\n      </v-col>\n    </v-row>\n    <AppFooter />\n  </v-container>\n</template>\n\n<style lang=\"scss\">\n.signin {\n  .stepper-signup.v-stepper {\n    box-shadow: none;\n    background: transparent;\n  }\n  .sign_footer {\n    .links {\n      font-size: 12px !important;\n    }\n  }\n}\n</style>\n"],"names":["_sfc_main","AppFooter","value","SIGN_IN","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_createBlock","_component_v_container","_withCtx","_createVNode","_component_v_row","_component_v_col","_createElementVNode","_component_v_img","_imports_0","_toDisplayString","_ctx","$data","_component_v_stepper","_cache","$event","_component_v_stepper_items","_component_v_stepper_content","_createCommentVNode","_component_v_btn","_createTextVNode","_component_router_link","_openBlock","_imports_1","_component_AppFooter"],"mappings":"8UAKA,MAAKA,EAAU,CACb,KAAM,SACN,WAAY,CACV,UAAAC,CACD,EACD,MAAO,CACL,MAAO,CACL,KAAM,OACN,KAAM,EACN,SAAU,GACV,WAAY,GACZ,UAAW,GACX,YAAa,CACf,CACD,EACD,SAAU,CAAE,EACZ,MAAO,CACL,KAAKC,EAAO,CAEV,KAAK,WAAa,EACnB,CACF,EACD,SAAU,CACR,KAAK,OAAO,OAAO,KAAK,SAAS,IAAI,MAAM,CAC5C,EACD,MAAM,SAAU,CAgCd,GA/BA,OAAO,iBAAiB,QAAS,KAAK,OAAO,EAC7C,OAAO,iBAAiB,OAAQ,KAAK,MAAM,EAC3C,SAAS,iBAAiB,qBAAsB,IAAM,CACpD,KAAK,KAAO,EACZ,KAAK,KAAK,MAAM,+BAA+B,EAE/C,GAAI,CACF,OAAO,OAAO,iBAAkB,CAAE,MAAO,CAAG,CAAA,EAAE,KAAK,IAAM,CAEvD,KAAK,OAAO,SAASC,CAAO,EAC5B,eAAe,QAAQ,iBAAkB,EAAI,EAC7C,KAAK,QAAQ,KAAK,YAAY,EAC/B,CACH,MACY,CAEV,KAAK,KAAO,EACZ,eAAe,WAAW,gBAAgB,CAG5C,EACD,EAED,SAAS,iBAAiB,qBAAsB,IAAM,CACpD,KAAK,SAAW,GACjB,EAOC,aAAa,QAAQ,kBAAkB,IAAM,QAC1C,aAAa,QAAQ,0BAA0B,IAAM,SACrD,CAAC,UACJ,CACA,KAAK,KAAO,EACZ,KAAK,KAAK,MAAM,8BAA8B,EAE9C,GAAI,CACF,OAAO,OAAO,iBAAkB,CAAE,MAAO,CAAG,CAAA,EAAE,KAAK,IAAM,CAEvD,cAAc,KAAK,CAAC,EAEpB,KAAK,OAAO,SAASA,CAAO,EAC5B,eAAe,QAAQ,iBAAkB,MAAM,EAC/C,cAAc,eAAe,EAC7B,KAAK,QAAQ,KAAK,YAAY,EAC/B,CACH,MACY,CAEV,KAAK,KAAO,EACZ,eAAe,WAAW,gBAAgB,CAC5C,CACF,CAEK,YACH,KAAK,EAAI,YAAY,IAAM,KAAK,YAAa,EAAE,GAAG,EACrD,EACD,WAAY,CACV,OAAO,oBAAoB,QAAS,KAAK,OAAO,EAChD,OAAO,oBAAoB,OAAQ,KAAK,MAAM,CAC/C,EACD,QAAS,CAER,CACH,EAQeC,EAAA,CAAA,MAAM,qBAAqB,EAY7BC,EAAA,CAAA,MAAM,YAAY,EAUPC,EAAA,CAAA,MAAM,cAAc,EAKrBC,EAAA,CAAA,MAAM,eAAe,EAiBrBC,EAAA,CAAA,MAAM,aAAa,EAelBC,EAAA,CAAA,MAAM,cAAc,EAKrBC,EAAA,CAAA,MAAM,oBAAoB,EAY1BC,EAAA,CAAA,MAAM,aAAa,EAUlBC,EAAA,CAAA,MAAM,cAAc,EAKrBC,EAAA,CAAA,MAAM,eAAe,+HA/F1CC,EAkIcC,EAAA,CAlID,MAAM,eAAa,CAtGlC,QAAAC,EAuGI,IA+HQ,CA/HRC,EA+HQC,EAAA,KAAA,CAtOZ,QAAAF,EAwGM,IAkHQ,CAlHRC,EAkHQE,EAAA,CAlHD,KAAK,IAAI,MAAM,YAAY,MAAA,CAA0B,eAAA,MAAA,IAxGlE,QAAAH,EAyGQ,IAWQ,CAXRC,EAWQE,EAAA,CAXD,KAAK,KAAK,MAAM,mBAzG/B,QAAAH,EA0GU,IASM,CATNI,EASM,MATNhB,EASM,CARJa,EAOEI,EAAA,CANA,IAAI,eACJ,MAAM,cACN,QAAA,GACA,IAAAC,EACA,WAAW,mBACX,MAAM,YAjHpB,EAAA,IAqHQL,EAIQE,EAAA,CAJD,KAAK,KAAK,MAAM,mBArH/B,QAAAH,EAsHU,IAEI,CAFJI,EAEI,IAFJf,EACKkB,EAAAC,EAAA,GAAuB,gBAAA,CAAA,EAAA,IAAID,EAAAE,EAAA,IAAI,EAAG,IAAIF,EAAAC,EAAA,sBAAuB,MAClE,CAAA,IAxHV,EAAA,IA0HQP,EA+FYS,EAAA,CAzNpB,WA0H4BD,EAAI,KA1HhC,sBAAAE,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAC,GA0H4BH,EAAI,KAAAG,GAAE,MAAM,iBAAiB,UAAU,MA1HnE,QAAAZ,EA2HU,IA6FkB,CA7FlBC,EA6FkBY,EAAA,KAAA,CAxN5B,QAAAb,EA4HY,IAmCoB,CAnCpBC,EAmCoBa,EAAA,CAnCD,KAAK,IAAI,MAAM,SA5H9C,QAAAd,EA6Hc,IAiCc,CAjCdC,EAiCcF,EAAA,CAjCD,MAAM,YAAY,EAAA,CA7H7C,QAAAC,EA8HgB,IA+BQ,CA/BRC,EA+BQC,EAAA,KAAA,CA7JxB,QAAAF,EA+HkB,IAIQ,CAJRC,EAIQE,EAAA,CAJD,KAAK,KAAK,MAAM,cA/HzC,QAAAH,EAgIoB,IAEK,CAFLI,EAEK,KAFLd,EAEKiB,EADAC,EAAE,GAAA,uBAAA,CAAA,EAAA,CAAA,IAjI3B,EAAA,IAoIkBP,EAIQE,EAAA,CAJD,KAAK,KAAK,MAAM,eApIzC,QAAAH,EAqIoB,IAEI,CAFJI,EAEI,IAFJb,EAEIgB,EADCC,EAAE,GAAA,0BAAA,CAAA,EAAA,CAAA,IAtI3B,EAAA,IAyIkBP,EAWQE,EAAA,CAXD,KAAK,IAAI,MAAM,eAzIxC,QAAAH,EA0IoB,IACsC,CADtCe,EACsC;AAAA,wDAAA,EACtCd,EAOQe,EAAA,CANN,KAAA,GACA,MAAM,cACN,MAAA,CAAwB,YAAA,OAAA,EACvB,QAAOR,EAAe,kBAhJ7C,QAAAR,EAkJsB,IAAkC,CAlJxDiB,EAAAV,EAkJyBC,EAAE,GAAA,wBAAA,CAAA,EAAA,CAAA,IAlJ3B,EAAA,oBAAA,EAAA,IAqJkBP,EAOQE,EAAA,CAPD,KAAK,KAAK,MAAM,eArJzC,QAAAH,EAsJoB,IAKI,CALJI,EAKI,IALJZ,EAKI,CA3JxByB,EAuJyBV,EAAAC,EAAA,iCAAkC,IACrC,CAAA,EAAAP,EAEciB,EAAA,CAFD,GAAG,SAAS,MAAM,UAxJrD,QAAAlB,EAyJwB,IAAqC,CAzJ7DiB,EAAAV,EAyJ2BC,EAAE,GAAA,2BAAA,CAAA,EAAA,CAAA,IAzJ7B,EAAA,QAAA,EAAA,MAAA,EAAA,MAAA,EAAA,MAAA,EAAA,IAiKYP,EAsDoBa,EAAA,CAtDD,KAAK,IAAI,MAAM,SAjK9C,QAAAd,EAkKc,IAoDc,CApDdC,EAoDcF,EAAA,CApDD,MAAM,YAAY,EAAA,CAlK7C,QAAAC,EAmKgB,IA0BQ,CA1BMS,EAAQ,UA2BtBU,EAAA,EAAArB,EAuBQI,GArNxB,IAAA,CAAA,EAAA,CAAA,QAAAF,EA+LkB,IAIQ,CAJRC,EAIQE,EAAA,CAJD,KAAK,KAAK,MAAM,cA/LzC,QAAAH,EAgMoB,IAEK,CAFLI,EAEK,KAFLR,EAEKW,EADAC,EAAE,GAAA,uBAAA,CAAA,EAAA,CAAA,IAjM3B,EAAA,IAoMkBP,EAIQE,EAAA,CAJD,KAAK,KAAK,MAAM,eApMzC,QAAAH,EAqMoB,IAEI,CAFJI,EAEI,IAFJP,EAEIU,EADCC,EAAE,GAAA,0BAAA,CAAA,EAAA,CAAA,IAtM3B,EAAA,IAyMkBP,EAWQE,EAAA,CAXD,KAAK,IAAI,MAAM,eAzMxC,QAAAH,EA0MoB,IACsC,CADtCe,EACsC;AAAA,wDAAA,EAE9BN,EAAU,gBADlBX,EAOQkB,EAAA,CAnN5B,IAAA,EA8MsB,KAAA,GACA,MAAM,cACL,QAAOR,EAAY,eAhN1C,QAAAR,EAkNsB,IAAyB,CAlN/CiB,EAAAV,EAkNyBC,EAAE,GAAA,eAAA,CAAA,EAAA,CAAA,IAlN3B,EAAA,mBAAAO,EAAA,OAAA,EAAA,IAAA,EAAA,MAAA,EAAA,MAmKgBI,EAAA,EAAArB,EA0BQI,GA7LxB,IAAA,CAAA,EAAA,CAAA,QAAAF,EAoKkB,IAIQ,CAJRC,EAIQE,EAAA,CAJD,KAAK,KAAK,MAAM,cApKzC,QAAAH,EAqKoB,IAEK,CAFLI,EAEK,KAFLX,EAEKc,EADAC,EAAE,GAAA,uBAAA,CAAA,EAAA,CAAA,IAtK3B,EAAA,IAyKkBP,EAIQE,EAAA,CAJD,KAAK,KAAK,MAAM,eAzKzC,QAAAH,EA0KoB,IAEI,CAFJI,EAEI,IAFJV,EAEIa,EADCC,EAAE,GAAA,0BAAA,CAAA,EAAA,CAAA,IA3K3B,EAAA,IA8K+BC,EAAU,gBAAvBX,EAMQK,EAAA,CApL1B,IAAA,EA8K2C,KAAK,IAAI,MAAM,eA9K1D,QAAAH,EA+KoB,IACsC,CADtCe,EACsC;AAAA,wDAAA,EACtCd,EAEQe,EAAA,CAFD,KAAA,GAAK,MAAM,cAAe,QAAOR,EAAY,eAjLxE,QAAAR,EAkLsB,IAAkC,CAlLxDiB,EAAAV,EAkLyBC,EAAE,GAAA,wBAAA,CAAA,EAAA,CAAA,IAlL3B,EAAA,oBAAA,EAAA,KAAAO,EAAA,OAAA,EAAA,EAqLkBd,EAOQE,EAAA,CAPD,KAAK,KAAK,MAAM,gBArLzC,QAAAH,EAsLoB,IAKI,CALJI,EAKI,IALJT,EAKI,CA3LxBsB,EAuLyBV,EAAAC,EAAA,iCAAkC,IACrC,CAAA,EAAAP,EAEciB,EAAA,CAFD,GAAG,SAAS,MAAM,UAxLrD,QAAAlB,EAyLwB,IAAqC,CAzL7DiB,EAAAV,EAyL2BC,EAAE,GAAA,2BAAA,CAAA,EAAA,CAAA,IAzL7B,EAAA,QAAA,EAAA,MAAA,EAAA,OAAA,EAAA,MAAA,EAAA,MAAA,EAAA,MAAA,EAAA,uBAAA,EAAA,IA2NMP,EAUQE,EAAA,CAVD,KAAK,IAAI,MAAM,SA3N5B,QAAAH,EA4NQ,IAQE,CARFC,EAQEI,EAAA,CAPA,IAAI,oBACJ,MAAM,cACN,QAAA,GACA,IAAAe,EACA,WAAW,mBACX,YAAU,MACV,aAAW,UAnOrB,EAAA,MAAA,EAAA,IAuOInB,EAAaoB,CAAA,IAvOjB,EAAA"}